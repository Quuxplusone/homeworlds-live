!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/scripts",n(n.s=76)}({0:function(e,t,n){"use strict";e.exports=n(5)},1:function(e,t,n){"use strict";class r{constructor(e,t,n,o,a,i,l,s){if(arguments.length<=1){const t=e||["south","north"];this.map=r.createEmptyMap(t.length),this.homeworldData={},this.nextSystemID=1,this.turnOrder=t,this.turn=t[0],this.actions={sacrifice:null,number:1},this.phase="setup",this.winner=null}else this.map=e,this.phase=t,this.homeworldData=n,this.nextSystemID=o,this.turnOrder=a,this.turn=i,this.actions=l,this.winner=s}static createEmptyMap(e){const t=["b","g","r","y"],n=e+1;let r={};for(let e=0;e<t.length;e++)for(let o=1;o<=3;o++)for(let a=0;a<n;a++){r[t[e]+String(o)+"ABCDE"[a]]=null}return r}static recoverFromJSON(e){let t=e;return"string"==typeof t&&(t=JSON.parse(t)),new r(t.map,t.phase,t.homeworldData,t.nextSystemID,t.turnOrder,t.turn,t.actions,t.winner)}static copyObject(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}equals(e){if(this.turn!==e.turn)return!1;if(this.phase!==e.phase)return!1;if(this.nextSystemID!==e.nextSystemID)return!1;if(this.winner!==e.winner)return!1;if(this.actions.number!==e.actions.number||this.actions.sacrifice!==e.actions.sacrifice)return!1;for(let t in this.map){if(!(t in e.map))return!1;const n=this.map[t],r=e.map[t];if(null===n&&null!==r)return!1;if(null===r&&null===n)return!1;if(n.at!==r.at||n.owner!==r.owner)return!1}for(let t in e.map)if(!(t in this.map))return!1;for(let t in this.homeworldData){if(!(t in e.homeworldData))return!1;if(this.homeworldData[t]!==e.homeworldData[t])return!1}for(let t in e.homeworldData)if(!(t in this.homeworldData))return!1;return!0}getAllPiecesAtSystem(e){var t=[];for(let n in this.map){let r=this.map[n];r&&r.at===e&&t.push({serial:n,owner:r.owner})}return t}getSmallestPieceInStash(e){for(let t=1;t<=3;t++)for(let n=0;n<3;n++){let r=e+t.toString()+"ABCDE"[n];if(null===this.map[r])return r}return null}getPieceInStashByType(e,t){void 0===t&&(t=Number(e[1]),e=e[0]);for(let n=0;n<3;n++){let r=e+t.toString()+"ABCDE"[n];if(null===this.map[r])return r}return null}pieceExistsInStash(e,t){2===arguments.length&&(t=Number(e[1]),e=e[0]);for(let n=0;n<3;n++){let r=e+t.toString()+"ABCDE"[n];if(null===this.map[r])return!0}return!1}getPowersAtSystem(e,t){let n={},r=!1;for(let o in this.map){const a=this.map[o];a&&a.at===t&&(null!==a.owner&&a.owner!==e||(n[o[0]]=!0),a.owner===e&&(r=!0))}return r?n:{}}getStarsAtSystem(e){let t=[];for(let n in this.map){const r=this.map[n];r&&r.at===e&&null===r.owner&&t.push(n)}return t}static areStarsConnected(e,t){if(e instanceof Array||(e=[e]),t instanceof Array||(t=[t]),0===e.length||0===t.length)return!1;for(let n=0;n<e.length;n++){const r=e[n];for(let e=0;e<t.length;e++){const n=t[e];if(r[1]===n[1])return!1}}return!0}isSystemOverpopulated(e,t){let n=0;for(let r in this.map){const o=this.map[r];o&&o.at===t&&r[0]===e&&(n+=1)}return n>=4}hasPower(e,t,n){const r=this.getPowersAtSystem(e,n)[t],o=this.actions.sacrifice===t;return this.actions.number>0&&(r||o)}activePlayerHomeworld(){return this.homeworldData[this.turn]}getPiecesAtHomeworlds(){let e={};for(let t in this.homeworldData)e[t]={stars:[],ships:[]};for(let t in this.map){const n=this.map[t];if(n)for(let r in this.homeworldData)n.at===this.homeworldData[r]&&(n.owner===r?e[r].ships.push(t):null===n.owner&&e[r].stars.push(t))}return e}canBuildColor(e,t,n){let r=!1,o=!1;for(let a in this.map){const i=this.map[a];a[0]===t&&(null===i?o=!0:i.at===n&&i.owner===e&&(r=!0))}return r&&o}canTrade(e,t,n){const r=this.map[t];return!(!r||r.owner!==e)&&(t[0]!==n[0]&&(1===n.length?this.pieceExistsInStash(n,Number(t[1])):2===n.length?t[1]===n[1]&&this.pieceExistsInStash(n[0],Number(n[1])):null===this.map[n]&&t[1]===n[1]))}couldPossiblyTrade(e,t){for(let e in this.map)if(null===this.map[e]&&t[0]!==e[0]&&t[1]===e[1])return!0;return!1}canMove(e,t,n){const o=this.map[t];if(!o||o.owner!==e)return!1;const a=this.getStarsAtSystem(o.at),i=this.getStarsAtSystem(n);return r.areStarsConnected(a,i)}canDiscover(e,t,n){const o=this.map[t];if(!o||o.owner!==e)return console.log("Not yours!",o),!1;if(this.map[n])return console.log("Piece in use!",this.map[n]),!1;if(!this.map.hasOwnProperty(n))return console.log("Piece does not exist. Piece never existed.",n),!1;const a=this.getStarsAtSystem(o.at);return console.log("From",a,"to",n),r.areStarsConnected(a,n)}canSteal(e,t){const n=this.map[t];if(!n||!n.owner||n.owner===e)return console.log("Ship must belong to an opponent",n),!1;for(let r in this.map){const o=this.map[r];if(o&&o.at===n.at&&o.owner===e&&Number(r[1])>=Number(t[1]))return!0}return!1}copyMap(e){let t={};for(let n in e)null===e[n]?t[n]=null:t[n]={at:e[n].at,owner:e[n].owner};return t}buildMap(e,t,n){if(!this.map.hasOwnProperty(t))throw new Error("build: piece "+t+" does not exist in the game.");if(this.map[t])throw new Error("build: piece "+t+" is already on the map");let r=this.copyMap(this.map);return r[t]={owner:e,at:n},r}tradeMap(e,t,n){if(!this.map.hasOwnProperty(t)||!this.map.hasOwnProperty(n))throw new Error("trade: one or more pieces is illegal (must be a serial number)");if(this.map[n])throw new Error("trade: piece "+n+" is already on the map");if(!this.map[t])throw new Error("trade: piece "+t+" is in the stash");if(this.map[t]&&this.map[t].owner!==e)throw new Error("trade: piece "+t+" does not belong to the player");let r=this.copyMap(this.map);return r[t]=null,r[n]={at:this.map[t].at,owner:this.map[t].owner},r}moveMap(e,t){if(!this.map[e])throw new Error("move: Piece Does Not Exist");if(null===this.map[e].owner)throw new Error("move: Piece is a star. You cannot move stars.");let n=this.copyMap(this.map);return n[e].at=t,n}discoverMap(e,t,n){if(!this.map[t])throw new Error("discover: Ship does not exist");if(null===this.map[t].owner)throw new Error('discover: So-called "ship" is a star.');if(!this.map.hasOwnProperty(n))throw new Error("discover: The star piece does not exist in the game.");if(this.map[n])throw new Error("discover: The star piece is in use already.");let r=this.copyMap(this.map);return r[n]={at:e,owner:null},r[t].at=e,r}sacrificeMap(e){if(!this.map[e])throw new Error("sacrifice: Sacrifice piece is in the bank.");if(null===this.map[e].owner)throw new Error("sacrifice: Cannot sacrifice a star.");let t=this.copyMap(this.map);return t[e]=null,t}getSacrificeActions(e){return{number:Number(e[1]),sacrifice:e[0]}}stealMap(e,t){if(!this.map[e])throw new Error("steal: Piece being stolen is in the bank.");if(null===this.map[e].owner)throw new Error('steal: So-called "ship" being stolen is a star.');let n=this.copyMap(this.map);return n[e].owner=t,n}catastropheMap(e,t){if(!this.isSystemOverpopulated(e,t))return this.map;var n={};let r=[],o=!1;for(let a in this.map){const i=this.map[a];n[a]=i,i&&i.at===t&&(a[0]===e?n[a]=null:(null===i.owner?o=!0:r.push(a),n[a]=this.map[a]))}if(!o)for(let e=0;e<r.length;e++)n[r[e]]=null;return n}static clearLonersMap(e,t){let n={};for(let t in e){const r=e[t];r&&(n[r.at]||(n[r.at]={ships:!1,stars:!1}),null===r.owner?n[r.at].stars=!0:n[r.at].ships=!0)}let r={};for(let o in e){const a=e[o];if(r[o]=a,a&&a.at!==t){const e=n[a.at].ships,t=n[a.at].stars;r[o]=e&&t?a:null}}return r}updateState(e){return new r(e.map||this.map,e.phase||this.phase,e.hwData||e.homeworldData||this.homeworldData,e.nextSystemID||this.nextSystemID,this.turnOrder,e.turn||this.turn,e.actions||this.actions,void 0===e.winner?this.winner:e.winner)}oneLessAction(){return{sacrifice:this.actions.sacrifice,number:this.actions.number-1}}hasActionsForColor(e){return this.actions.number>0&&(null===this.actions.sacrifice||this.actions.sacrifice===e)}doHomeworld(e,t,n,r){if(console.log("[GameState.doHomeworld]",e,t,n,r),"setup"!==this.phase)throw console.log(this.phase,"setup"),new Error("It is not time for homeworld setup.");if(this.turn!==e)throw new Error("It is not your turn to set up your homeworld.");const o=[t,r];n&&o.push(n);for(let e=0;e<o.length;e++){if(!(this.map.hasOwnProperty(o[e])&&null===this.map[o[e]]))throw new Error("The piece "+o[e]+" is not available in the stash. This is either a faulty load file or a bug.");for(let t=e+1;t<o.length;t++)if(o[e]===o[t])throw new Error("You have duplicated piece "+o[e]+". That is not allowed.")}if(this.actions.number<=0)throw new Error("Your turn is over.");if(this.homeworldData.hasOwnProperty(e))throw new Error("You already have a homeworld!");const a={};for(let e in this.homeworldData)a[e]=this.homeworldData[e];const i=this.copyMap(this.map),l=this.nextSystemID;return a[e]=l,i[t]={at:l,owner:null},n&&(i[n]={at:l,owner:null}),i[r]={at:l,owner:e},this.updateState({map:i,nextSystemID:l+1,homeworldData:a,actions:this.oneLessAction()})}doBuild(e,t,n){if(this.turn!==e)throw new Error("It is not your turn");if(!this.hasActionsForColor("g"))throw new Error("You have no actions left, or you sacrificed a ship that is not green. You cannot build.");let o=t;if(1===t.length?o=this.getSmallestPieceInStash(t):2===t.length&&(o=this.getPieceInStashByType(t)),null===o)throw new Error("The piece or color you want to build was not found in the stash!");if(this.hasPower(e,"g",n)){const t=o[0];if(this.canBuildColor(e,t,n)){if(this.getSmallestPieceInStash(t).substring(0,2)===o.substring(0,2)&&null===this.map[o]){const t=this.buildMap(e,o,n),a=r.clearLonersMap(t,this.activePlayerHomeworld());return this.updateState({map:a,actions:this.oneLessAction()})}throw new Error("You cannot build that piece because it is not the smallest available piece of that color.")}throw new Error("You cannot build that color in that system. You need a ship of the same color to also be there.")}throw new Error("You cannot build in that system. You need access to GREEN technology, either using the star or one of YOUR ships.")}doTrade(e,t,n){if(this.turn!==e)throw new Error("It is not your turn");if(!this.hasActionsForColor("b"))throw new Error("You have no actions left, or you sacrificed a ship that is not blue. You cannot trade.");if(!this.map[t])throw new Error('The "ship" you are trying to trade is not on the board! This could be a bug.');if(this.hasPower(e,"b",this.map[t].at)){if(this.canTrade(e,t,n)){let o;if(o=1===n.length?this.getPieceInStashByType(n+t[1]):2===n.length?this.getPieceInStashByType(n):n,!o)throw console.warn("[doTrade] Critical error happened with these parameters:",e,t,n),console.warn("Map:",this.map),new Error("Somehow that trade is invalid, and this is a bug because it should have been caught earlier!");const a=this.tradeMap(e,t,o),i=r.clearLonersMap(a,this.activePlayerHomeworld());return this.updateState({map:i,actions:this.oneLessAction()})}throw n[1]&&n[1]!==t[1]?new Error("You cannot make that trade. The sizes do not match."):new Error("You cannot make that trade. Probably the piece you want is not in the stash.")}throw new Error("You do not have access to blue (trade) technology there. You must either have a blue ship there, be at a blue star, or have sacrificed a blue ship anywhere.")}doMove(e,t,n){if(this.turn!==e)throw new Error("It is not your turn");if(!this.hasActionsForColor("y"))throw new Error("You have no actions left, or you sacrificed a ship that is not yellow. You cannot move.");if(!this.map[t])throw new Error('The "ship" you are trying to move is not on the board! This could be a bug.');if(this.map[t].owner!==e)throw new Error("You do not own the ship. You can only move your own ships!");if(this.hasPower(e,"y",this.map[t].at)){if(this.canMove(e,t,n)){const e=this.moveMap(t,n),o=r.clearLonersMap(e,this.activePlayerHomeworld());return this.updateState({map:o,actions:this.oneLessAction()})}throw console.log(n),new Error("You cannot move there, because (probably) the systems are not connected. Systems are connected if and only if the stars are DIFFERENT sizes.")}throw new Error("You do not have access to movement (yellow) technology in that system. You must have a yellow ship there, or be at a yellow star, or have sacrificed a yellow ship somewhere.")}doDiscovery(e,t,n){if(this.turn!==e)throw new Error("It is not your turn");if(!this.hasActionsForColor("y"))throw new Error("You have no actions left, or you sacrificed a ship that is not yellow. You cannot move.");if(!this.map[t])throw new Error('The "ship" you are trying to move is not on the board! This could be a bug.');if(this.hasPower(e,"y",this.map[t].at)){let o=n;if(2===n.length&&(o=this.getPieceInStashByType(this.map,n),null===o))throw new Error("No "+n+" piece exists in the stash to discover.");if(this.canDiscover(e,t,n)){const e=this.discoverMap(this.nextSystemID,t,n),o=r.clearLonersMap(e,this.activePlayerHomeworld());return this.updateState({map:o,actions:this.oneLessAction(),nextSystemID:this.nextSystemID+1})}throw this.map[o]?new Error("The requested piece to discover is not in the stash."):new Error("You cannot discover that star. Either the systems are not connected, or you do not own the ship.")}throw new Error("You do not have access to movement (yellow) technology in that system. You must have a yellow ship there, or be at a yellow star, or have sacrificed a yellow ship somewhere.")}doSteal(e,t){if(this.turn!==e)throw new Error("It is not your turn");if(!this.hasActionsForColor("r"))throw new Error("You have no actions left, or you sacrificed a ship that is not red. You cannot capture.");if(!this.map[t])throw new Error('The "ship" you are trying to capture is not on the board! This could be a bug.');if(this.hasPower(e,"r",this.map[t].at)){if(this.canSteal(e,t)){const n=this.stealMap(t,e);return this.updateState({map:r.clearLonersMap(n,this.activePlayerHomeworld()),actions:this.oneLessAction()})}throw new Error("You cannot capture that ship. You must have a ship of that size or larger in the same system.")}throw new Error("You do not have weapons technology there! You need to own a red ship there, be at a red star, or sacrifice a red ship somewhere.")}doSacrifice(e,t){if(this.turn!==e)throw new Error("It is not your turn");if(this.actions.sacrifice)throw new Error("You have already sacrificed a ship for this turn.");if(this.actions.number<=0)throw new Error("You have already done your action for this turn.");if(!this.map[t])throw new Error('The "ship" you are trying to sacrifice is not on the board! This could be a bug or a faulty game record.');if(this.map[t].owner!==e)throw new Error("You can only sacrifice YOUR SHIPS. That piece is either a star or an opponent's ship.");const n=this.sacrificeMap(t),o=this.getSacrificeActions(t);return this.updateState({map:r.clearLonersMap(n,this.activePlayerHomeworld()),actions:o})}doCatastrophe(e,t){if(this.isSystemOverpopulated(e,t)){const n=this.catastropheMap(e,t),o=r.clearLonersMap(n,this.activePlayerHomeworld());return this.updateState({map:o})}throw new Error("That system is not overpopulated with that color so you cannot cause a catastrophe there.")}getCleanHomeworldData(){if("setup"===this.phase)return this.homeworldData;const e={},t=this.getPiecesAtHomeworlds();for(let n in t){const r=t[n];r.stars.length>0&&r.ships.length>0&&(e[n]=this.homeworldData[n])}return e}getEndTurnWarnings(){let e=[];const t=this.turn,n=this.getPiecesAtHomeworlds()[t];if(!n)return[{level:"danger",message:"You haven't picked your homeworld yet, so don't end your turn!"}];const r=n.ships,o=n.stars,a=r.concat(o);if("setup"===this.phase){r[0]&&"3"===r[0][1]||e.push({level:"warning",message:"You seem to have started without a large ship! It is very important that you have a large ship to defend your homeworld."}),o.length<=1?e.push({level:"danger",message:"You only have one star. You should start with a binary system (2 stars) so that it is much harder for your opponent to destroy your homeworld!"}):(o[0][1]===o[1][1]&&e.push({level:"caution",message:"You seem to have picked 2 stars of the same size. Your homeworld will be connected to more systems, which can make it easier to be invaded."}),o[0][0]===o[1][0]&&e.push({level:"danger",message:"Uh oh! You picked 2 stars of the same color. This is not good because your opponent only needs 2 ships of that color to destroy your homeworld. This is very bad!"}));let t=!1,n=!1;for(let e=0;e<a.length;e++)"g"===a[e][0]&&(t=!0),"b"===a[e][0]&&(n=!0);t||e.push({level:"danger",message:"You do not have building (green) technology in your homeworld! You will not be able to build new ships! This is bad."}),n||e.push({level:"warning",message:"You do not have trading (blue) technology in your homeworld! This can make it more difficult to diversify your fleet."}),2===this.turnOrder.length&&console.warn("todo... I want to get something else working first")}else{0===r.length&&e.push({level:"danger",message:"You can't abandon your homeworld, or else you lose! You need to make sure you have a ship at home when your turn ends. (Reset Turn if you need to.)"}),this.actions.number>0&&(this.actions.sacrifice?e.push({level:"caution",message:"You haven't used all of your actions. Ending your turn now wastes them."}):e.push({level:"warning",message:"You haven't done your action yet this turn! Are you sure you want to pass?"}));let t={},n=!1;for(let e=0;e<r.length;e++){const o=r[e][0];t[o]?t[o]++:t[o]=1,"3"===r[e][1]&&(n=!0)}1===Object.keys(t).length&&(4===r.length?e.push({level:"danger",message:"You have 4 ships in your homeworld and they are all the same color! That's a catastrophe waiting to happen!"}):3===r.length?e.push({level:"warning",message:"You have 3 ships in your homeworld, and they are all the same color. If your opponent can move just one more in, you would lose, so be careful!"}):r.length),n||e.push({level:"caution",message:"You don't have a large ship at your homeworld. If your opponent gets a large in before you do, you won't be able to fight back!"})}return e}doEndTurn(){const e=r.clearLonersMap(this.map),t={sacrifice:null,number:1},n=this.updateState({map:e,actions:t}).getCleanHomeworldData(),o=Object.keys(n);if(o.length<=1&&"setup"!==this.phase){const t=o.length?o[0]:null;return this.updateState({map:e,phase:"end",homeworldData:n,winner:t})}{const r=this.turnOrder.indexOf(this.turn);let o=this.turn;const a=this.turnOrder.length;for(let e=1;e<a;e++){const t=this.turnOrder[(r+e)%a];if(n[t]||"setup"===this.phase){o=t;break}}let i=this.phase;return"setup"===this.phase&&this.homeworldData[o]&&(i="playing"),this.updateState({map:e,phase:i,turn:o,actions:t,homeworldData:n})}}manuallyEliminatePlayer(e){const t=r.copyObject(this.homeworldData);return delete t[e],this.updateState({homeworldData:t})}getActionsAvailableForPiece(e,t){const n=this.map;if(!n[t])return{};let r=[];const o=n[t].owner===e,a=null===n[t].owner,i=!o&&!a,l=n[t].at,s=this.actions;return o&&(this.hasPower(e,"g",l)&&this.canBuildColor(e,t[0],l)&&r.push({type:"build",newPiece:this.getSmallestPieceInStash(t[0]),system:l}),this.hasPower(e,"b",l)&&this.couldPossiblyTrade(e,t)&&r.push({type:"trade",oldPiece:t}),this.hasPower(e,"y",l)&&(r.push({type:"move",oldPiece:t}),r.push({type:"discover",oldPiece:t})),null===s.sacrifice&&s.number>0&&r.push({type:"sacrifice",oldPiece:t})),i&&this.hasPower(e,"r",l)&&this.canSteal(e,t)&&r.push({type:"steal",oldPiece:t}),this.isSystemOverpopulated(t[0],l)&&r.push({type:"catastrophe",oldPiece:t,color:t[0],system:l}),r}}t.a=r},10:function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,o,a,i,l;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,u=null,c=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(c,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},r=function(e){null!==s?setTimeout(r,0,e):(s=e,setTimeout(c,0))},o=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},i=function(){return!1},l=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var g=f.now();t.unstable_now=function(){return f.now()-g}}var w=!1,b=null,v=-1,k=5,T=0;i=function(){return t.unstable_now()>=T},l=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,S=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();T=e+k;try{b(!0,e)?S.postMessage(null):(w=!1,b=null)}catch(e){throw S.postMessage(null),e}}else w=!1},r=function(e){b=e,w||(w=!0,S.postMessage(null))},o=function(e,n){v=p((function(){e(t.unstable_now())}),n)},a=function(){y(v),v=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<A(o,t)))break e;e[r]=t,e[n]=o,n=r}}function x(e){return void 0===(e=e[0])?null:e}function P(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,i=e[a],l=a+1,s=e[l];if(void 0!==i&&0>A(i,n))void 0!==s&&0>A(s,i)?(e[r]=s,e[l]=n,r=l):(e[r]=i,e[a]=n,r=a);else{if(!(void 0!==s&&0>A(s,n)))break e;e[r]=s,e[l]=n,r=l}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var N=[],I=[],B=1,O=null,M=3,_=!1,D=!1,j=!1;function R(e){for(var t=x(I);null!==t;){if(null===t.callback)P(I);else{if(!(t.startTime<=e))break;P(I),t.sortIndex=t.expirationTime,C(N,t)}t=x(I)}}function z(e){if(j=!1,R(e),!D)if(null!==x(N))D=!0,r(Y);else{var t=x(I);null!==t&&o(z,t.startTime-e)}}function Y(e,n){D=!1,j&&(j=!1,a()),_=!0;var r=M;try{for(R(n),O=x(N);null!==O&&(!(O.expirationTime>n)||e&&!i());){var l=O.callback;if(null!==l){O.callback=null,M=O.priorityLevel;var s=l(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?O.callback=s:O===x(N)&&P(N),R(n)}else P(N);O=x(N)}if(null!==O)var u=!0;else{var c=x(I);null!==c&&o(z,c.startTime-n),u=!1}return u}finally{O=null,M=r,_=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var L=l;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||_||(D=!0,r(Y))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return x(N)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,i){var l=t.unstable_now();if("object"==typeof i&&null!==i){var s=i.delay;s="number"==typeof s&&0<s?l+s:l,i="number"==typeof i.timeout?i.timeout:F(e)}else i=F(e),s=l;return e={id:B++,callback:n,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,C(I,e),null===x(N)&&e===x(I)&&(j?a():j=!0,o(z,s-l))):(e.sortIndex=i,C(N,e),D||_||(D=!0,r(Y))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();R(e);var n=x(N);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||i()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},2:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(7)},4:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){var t,n=(e.symbolMode?"-symbol":"")+".svg",r="/images/"+e.type+"-"+e.serial.substring(0,2)+n,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({transform:"rotate("+(e.rotation||0)+"deg)"},e.style),s=Number(e.serial[1]),u=28+20*s;if("star"===e.type)t=28+20*s;else{if("ship"!==e.type)throw new Error("Unknown piece type "+e.type+". This is a bug.");t=40+32*s}return o.a.createElement("img",{className:"piece",piecetype:e.type,src:r,width:e.scaleFactor*u,height:e.scaleFactor*t,style:a,title:e.serial,highlight:e.highlight?"yes":void 0,onClick:function(t){return e.handleClick(e.serial,t)}})};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,a=d(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.call(this,e)}return t=i,(n=[{key:"getShipSortScore",value:function(e){var t=e.props;return(1e3*t.size-t.color.charCodeAt(0))*(t.rotation?-1:1)}},{key:"render",value:function(){for(var e=[],t=[],n=[],r=this.props.ships,a=0;a<r.length;a++){var i=r[a],l=0;i.owner!==this.props.viewer&&(l=180);var u=o.a.createElement(s,{key:i.serial,serial:i.serial,type:"ship",size:i.size,color:i.color,symbolMode:this.props.symbolMode,rotation:l,scaleFactor:this.props.scaleFactor,highlight:i.serial===this.props.activePiece,handleClick:this.props.handleBoardClick});i.owner===this.props.viewer?t.push(u):e.push(u)}var c=function(e,t){return this.getShipSortScore(t)-this.getShipSortScore(e)}.bind(this);t.sort(c),e.sort(c);for(var h=0;h<this.props.stars.length;h++){var d=this.props.stars[h];n.push(o.a.createElement(s,{key:d.serial,serial:d.serial,type:"star",size:d.size,color:d.color,symbolMode:!1,rotation:0,scaleFactor:this.props.scaleFactor,handleClick:this.props.handleBoardClick}))}var f="system-container";return this.props.homeworld&&(this.props.homeworld==this.props.viewer?f+=" homeworld homeworld-yours":f+=" homeworld homeworld-enemy"),o.a.createElement("div",{className:f},this.props.id,e,n,t)}}])&&c(t.prototype,n),r&&c(t,r),i}(o.a.PureComponent);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(l,e);var t,n,r,i=b(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={systemPositions:[],symbolMode:e.initialSymbolMode||!1},e.symbolMode&&console.error("It's props.initialSymbolMode for setting the initial configuration!"),t.getSystemOwnershipScore=t.getSystemOwnershipScore.bind(k(t)),t}return t=l,(n=[{key:"handleCheckbox",value:function(e){this.setState({symbolMode:e})}},{key:"getSystemOwnershipScore",value:function(e){for(var t=e.props.ships,n=0,r=0,o=0;o<t.length;o++){var a=t[o].size;t[o].owner===this.props.viewer?n=Math.max(n,a):r+=Math.max(r,a)}var i=e.props.id/1e4;return r&&!n?-1-i:n<r?-.5-i:n===r?i:n>r&&r>0?.5+i:1+i}},{key:"sortContainer",value:function(e){return e.sort(function(e,t){return this.getSystemOwnershipScore(e)-this.getSystemOwnershipScore(t)}.bind(this))}},{key:"getUniqueSizes",value:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n].size;t[r]||(t[r]=!0)}return Object.keys(t).map(Number)}},{key:"renderHTMLThreeColumns",value:function(e,t,n){for(var r=[],a=[],i=0;i<n.length;i++){var l=n[i];l.props.stars[0].size===e?r.push(l):a.push(l)}return o.a.createElement("div",{className:"row justify-content-around"},o.a.createElement("div",{className:"col-auto",align:"center"},r),o.a.createElement("div",{className:"col-auto",align:"center"},t),o.a.createElement("div",{className:"col-auto",align:"center"},a))}},{key:"renderHTMLContainers",value:function(e,t,n){var r=this.getUniqueSizes(e),a=this.getUniqueSizes(t),i=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"adj-north"},n.adjNorth),o.a.createElement("div",{className:"adj-both adj-neither"},n.adjBoth,n.adjNeither),o.a.createElement("div",{className:"adj-south"},n.adjSouth));if(1===r.length&&1===a.length){if(r[0]===a[0]){console.log("[Starmap] case c");var l=1===r[0]?2:1;return this.renderHTMLThreeColumns(l,n.adjNeither,n.adjBoth)}return i}if(2===r.length&&2===a.length){for(var s=0,u=1;u<=3;u++)if(-1===r.indexOf(u)&&-1===a.indexOf(u)){s=u;break}if(0!==s){var c=1===s?2:1;return this.renderHTMLThreeColumns(c,n.adjBoth,n.adjNeither)}return i}if(0===r.length||0===a.length)return i;for(var h=!0,d=0;d<r.length;d++)a.indexOf(r[d])>=0&&(h=!1);if(h)return console.log("case b"),i;console.log("case d");var f,p=n.adjNeither.length,y=Math.max(n.adjNorth.length,n.adjBoth.length,n.adjSouth.length);return f=0===p?"d-none":1===p?"col-auto px-1":p<=2*y/3?"col-4 col-md-3 col-lg-2":p>=3*y/2?"col-8 col-sm-7":"col-6",p>0&&(f+=" d-flex flex-column justify-content-center"),o.a.createElement("div",{className:"row flex-grow"},o.a.createElement("div",{className:f},n.adjNeither),o.a.createElement("div",{className:"col d-flex flex-column justify-content-around"},n.adjNorth&&o.a.createElement("div",null,n.adjNorth),o.a.createElement("div",null,n.adjBoth),n.adjSouth&&o.a.createElement("div",null,n.adjSouth)))}},{key:"moveSVGSystems",value:function(){for(var e=this.state.systemPositions,t=0;t<e.length;t++)for(var n=e[t],r=0;r<e.length;r++)if(r!==t){var o=e[r];a.a.areStarsConnected(n.stars,o.stars),o.x,n.x}}},{key:"render",value:function(){var e=this.props,t=e.map,n={};for(var r in t){var i=t[r];if(null!==i){var l=n[i.at];l||(l={stars:[],ships:[],homeworld:null},n[i.at]=l);var s={serial:r,size:Number(r[1]),color:r[0]};null===i.owner?(s.type="star",l.stars.push(s)):(s.owner=i.owner,s.type="ship",l.ships.push(s))}}var u=[];for(var c in e.homeworldData){var h=e.homeworldData[c];n[h]&&(n[h].homeworld=c,u.push(c))}for(var d=function(e){return e.serial},f=[],p=0;p<u.length;p++){var m=e.homeworldData[u[p]];f.push(n[m].stars)}var g={hwNorth:[],hwSouth:[],adjNorth:[],adjSouth:[],adjBoth:[],adjNeither:[]},w=null;for(var b in n){var v=n[b],k=v.stars.map(d),T=o.a.createElement(y,{key:b,id:b,stars:v.stars,ships:v.ships,viewer:e.viewer,homeworld:v.homeworld,scaleFactor:e.scaleFactor,activePiece:e.activePiece,symbolMode:this.state.symbolMode,handleBoardClick:e.handleBoardClick});if(v.homeworld)v.homeworld===e.viewer?g.hwSouth.push(T):g.hwNorth.push(T);else if(1===f.length)a.a.areStarsConnected(k,f[0].map(d))?g[u[0]===e.viewer?"adjSouth":"adjNorth"].push(T):g.adjNeither.push(T);else if(2===f.length){var E=a.a.areStarsConnected(k,f[0].map(d)),S=a.a.areStarsConnected(k,f[1].map(d)),C=void 0,x=void 0;u[0]===e.viewer?(x=E,C=S):(x=S,C=E),C?g[x?"adjBoth":"adjNorth"].push(T):g[x?"adjSouth":"adjNeither"].push(T)}else console.log("No homeworlds exist!"),g.adjNeither.push(T)}for(var P in g)g[P]=this.sortContainer(g[P]);return w=2===f.length?this.renderHTMLContainers(f[0],f[1],g):1===f.length?this.renderHTMLContainers(f[0],[],g):o.a.createElement("div",null,g.adjNeither),o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"mb-0 mt-0"},o.a.createElement("strong",{className:"text-primary mr-2"},"Trade = Blue (⇆)"),o.a.createElement("strong",{className:"text-success mr-2"},"Build = Green (+)"),o.a.createElement("strong",{className:"text-yellow mr-2"},"Move = Yellow (^)"),o.a.createElement("strong",{className:"text-danger mr-2"},"Steal = Red (✴)"),o.a.createElement("br",null),o.a.createElement("input",{type:"checkbox",value:this.state.symbolMode}),"Colorblind mode ships"),o.a.createElement("div",{className:"systems"},g.hwNorth,w,g.hwSouth))}}])&&g(t.prototype,n),r&&g(t,r),l}(o.a.Component);var S=function(e){var t=e.actionInProgress,n=e.turnActions;if(t){var r="Click on "+("trade"===t.type?"a piece in the stash to TRADE for":"move"===t.type?"any star on the board to MOVE there":"discover"===t.type?"a piece in the stash to DISCOVER":"homeworld"===t.type?t.star1?t.star2?t.ship?"the END TURN button to finalize!":"a piece in the stash for your SHIP":"a piece in the stash for your SECOND star":"a piece in the stash for your FIRST star":"...something... [this is probably a bug!]"),a="trade"===t.type?"autorenew":"move"===t.type?"navigation":"discover"===t.type?"add_location":"homeworld"===t.type?"add_box":"info",i=null;return"homeworld"===t.type&&(i=o.a.createElement("span",{className:"mr-2"},t.star1&&o.a.createElement(s,{type:"star",serial:t.star1,scaleFactor:.25}),t.star2&&o.a.createElement(s,{type:"star",serial:t.star2,scaleFactor:.25}))),o.a.createElement("p",{className:"alert alert-secondary"},i||o.a.createElement("i",{className:"material-icons mr-1"},a),r," ","homeworld"!==t.type&&o.a.createElement("small",null,"(or click the original piece to cancel)"))}if(n&&n.sacrifice){var l={b:"blue",g:"green",r:"red",y:"yellow"}[n.sacrifice],u={b:"trade",g:"build",r:"capture",y:"move/discover"}[n.sacrifice];return o.a.createElement("p",{className:"alert alert-light"},"You have sacrificed a ",l," ship. You have ",n.number," ",u," ",1===n.number?"action":"actions"," left.")}return null};function C(e){e&&e.focus()}var x=function(e){var t=e.popup;if(t){var n={};n[t.xSide]=t.x,n[t.ySide]=t.y;for(var r=[],a=function(n){var a=t.actions[n],i="btn btn-outline-",l=void 0;if("build"===a.type)l="Build "+a.newPiece.substring(0,2).toUpperCase()+" here",i+="success";else if("trade"===a.type)l="Trade...",i+="primary";else if("move"===a.type)l="Move...",i+="warning";else if("discover"===a.type)l="Discover a system...",i+="warning";else if("steal"===a.type)l="Capture this ship",i+="danger";else if("sacrifice"===a.type){var s=Number(a.oldPiece[1]),u={g:"build",b:"trade",y:"move",r:"capture",x:"useless"}[a.oldPiece[0]];l="Sacrifice for\n".concat(s," ").concat(u," action").concat(1===s?"":"s"),i+="dark"}else{if("catastrophe"!==a.type)throw console.warn("Action element: ",a),new Error("Unknown action type "+a.type);var c={g:"green",b:"blue",y:"yellow",r:"red",x:"grey"}[a.color];l="Cause a ".concat(c," catastrophe"),i+="dark"}r.push(o.a.createElement("button",{className:i,key:a.type,type:"button",onClick:function(){return e.handleButtonClick(a)},onMouseDown:function(e){return e.preventDefault()}},l))},i=0;i<t.actions.length;i++)a(i);return r.length&&r.push(o.a.createElement("button",{className:"btn btn-outline-dark text-black",key:"cancel",type:"button",onClick:function(){return e.handleButtonClick(null)}},"Cancel")),o.a.createElement("div",{className:"action-popup",style:n,onBlurCapture:e.onBlur,tabIndex:"0",autoFocus:!0,ref:C},o.a.createElement("div",{className:"btn-group-vertical"},r))}return null};var P=function(e){for(var t=["b","g","r","y"],n=e.scaleFactor||.4,r=[],a=0;a<t.length;a++){for(var i=t[a],l=[],u=1;u<=3;u++){for(var c=[],h=0;h<3;h++){var d=i+u+"ABCDE"[h];if(null===e.data[d]){var f={marginTop:n*-(4+32*u)};c.push({key:d,serial:d,type:"ship",color:i,size:u,scaleFactor:n,style:f,handleClick:e.handleClick})}}c.length>0&&delete c[c.length-1].style.marginTop,c=c.map((function(e){return o.a.createElement(s,e)})),l.push(o.a.createElement("td",{key:i+u.toString()},o.a.createElement("div",{className:"d-flex flex-column-reverse"},c)))}r.push(o.a.createElement("tr",{key:i},l))}return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{align:"center"},"Bank"),o.a.createElement("table",{className:"stash-table"},o.a.createElement("tbody",null,r)))};var A=function(e){var t=e.warnings.map((function(e){return o.a.createElement("p",{key:e.message},e.message)}));return o.a.createElement("div",{className:"alert alert-light"},o.a.createElement("span",{className:"float-right"},o.a.createElement("button",{className:"btn btn-secondary",onClick:e.onClose},"Cancel"),o.a.createElement("button",{className:"btn btn-primary",onClick:e.onEndTurn},"End Turn")),o.a.createElement("h4",{className:"text-warning"},"Are you sure?"),t)};var N=function(e){if(e.canInteract){for(var t=e.warnings,n=t.map((function(e){return o.a.createElement("p",{key:e.message,className:"mb-0"},e.message)})),r={note:0,caution:1,warning:2,danger:3},a=0,i=0;i<t.length;i++){var l=r[t[i].level];l>a&&(a=l)}var s=["success text-light","info","warning text-light","danger"][a],u=t.length>0?"warning":"success";return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:e.handleResetClick,className:"btn btn-danger mt-1"},"Reset Turn"),o.a.createElement("br",null),o.a.createElement("div",{className:"position-relative"},e.showPopup&&t.length>0&&o.a.createElement("div",{className:"position-absolute alert alert-light shadow",style:{top:"-1em",right:"calc(100% + 1em)",width:"40vw"}},n),o.a.createElement("button",{className:"end-turn mt-2 btn btn-lg btn-"+s,onClick:e.handleEndTurnClick},"End Turn")),o.a.createElement("button",{className:"text-light mt-3 btn btn-"+u,onClick:e.toggleWarningPopup},t.length," warning(s)"))}return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"btn btn-outline-danger mt-1",disabled:!0},"Reset Turn"),o.a.createElement("br",null),o.a.createElement("div",{className:"position-relative"},o.a.createElement("button",{className:"btn btn-lg btn-outline-info mt-2",disabled:!0},"End Turn")),o.a.createElement("button",{className:"btn btn-outline-secondary mt-3",disabled:!0},"0 warning(s)"))};function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.a=function(e,t,n){return function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(c,r);var i,l,s,u=_(c);function c(e){var t;for(var r in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e)).state={history:[[]],allActions:[[]],current:e.current||e.gameState||new a.a(e.players||["south","north"]),scaleFactor:.5,viewer:"south",popup:null,actionInProgress:null,showWarningPrompt:!1},t.state.current=a.a.recoverFromJSON(t.state.current),t.state.history[0].push(t.state.current),n)t.state[r]=n[r];t.starMapRef=o.a.createRef(),window._g=j(t);for(var i=["toggleWarningPopup","handleEndTurnClick","handleResetClick","handleEmptyClick"],l=0;l<i.length;l++){var s=i[l];t[s]=t[s].bind(j(t))}return t}return i=c,(l=[{key:"componentDidMount",value:function(){t.onMount&&t.onMount.call(this),t.componentDidMount&&t.componentDidMount.call(this);var e=null;window.addEventListener("resize",function(){var t=this;clearTimeout(e),e=setTimeout((function(){return t.forceUpdate()}),250)}.bind(this))}},{key:"componentWillUnmount",value:function(){t.onUnmount&&t.onUnmount.call(this),t.componentWillUnmount&&(console.log("events.componentWillUnmount -> onUnmount, please"),t.componentWillUnmount.call(this))}},{key:"componentDidUpdate",value:function(){t.onComponentUpdate&&t.onComponentUpdate.call(this)}},{key:"getCurrentState",value:function(){return this.state.current}},{key:"copyMap",value:function(e){var t={};for(var n in e)t[n]=e[n];return t}},{key:"getSacrificeActions",value:function(e){return{number:Number(e[1]),sacrifice:e[0]}}},{key:"updateGameState",value:function(e,t,n){this.setState((function(n){var r=n.history.slice();return t&&r.push([]),r[r.length-1].push(e),{history:r,current:e}}),n||function(){})}},{key:"appendAction",value:function(e){this.setState((function(t){var n=t.allActions.slice(),r=n[n.length-1].slice();return r.push(e),n[n.length-1]=r,{allActions:n}}))}},{key:"doAction",value:function(e,n){if(void 0===B(n)&&(console.log("[doAction] Player not passed, this is wrong! (But will work, I think.)"),void 0===B(n=e.player)))throw console.log("^^ Belay that. It will not work."),new TypeError("Still?! OK, this is a bug: Player not given to doAction()");var r,o=this.getCurrentState();if(o.turn!==n)throw new Error("It is not your turn!");try{switch(e.type){case"homeworld":r=o.doHomeworld(n,e.star1,e.star2,e.ship);break;case"build":r=o.doBuild(n,e.newPiece,e.system);break;case"trade":r=o.doTrade(n,e.oldPiece,e.newPiece);break;case"move":r=o.doMove(n,e.oldPiece,e.system);break;case"discover":r=o.doDiscovery(n,e.oldPiece,e.newPiece);break;case"steal":r=o.doSteal(n,e.oldPiece);break;case"sacrifice":r=o.doSacrifice(n,e.oldPiece);break;case"catastrophe":r=o.doCatastrophe(e.color,e.system);break;case"eliminate":r=o.manuallyEliminatePlayer(e.player);break;default:throw new Error("Invalid action type "+e.type+". Could be a bug!")}console.log("New state",r);var a=!0;if(t.onBeforeAction){var i=t.onBeforeAction.call(this,e,n,o,r);console.log("Validity:",i),i||void 0===i||(a=!1)}a&&(console.log("Updating!"),this.updateGameState(r),this.appendAction(e),t.onAfterAction&&t.onAfterAction.call(this,e,n,r))}catch(e){e.constructor!==Error&&console.error("[Game.doAction]",e),alert("Illegal action!\n"+e.message)}this.dismissWarnings()}},{key:"doEndTurn",value:function(e,n){var r=this.getCurrentState(),o=r.doEndTurn();if(!t.onBeforeEndTurn||t.onBeforeEndTurn.call(this,e,r,o))if("setup"===r.phase&&this.state.actionInProgress)console.log("Cannot end turn without a homeworld!");else{this.updateGameState(o,!0,n),this.setState({allActions:this.state.allActions.concat([[]])}),t.onAfterEndTurn&&t.onAfterEndTurn.call(this,e,o);var a=t.canInteract&&!t.canInteract.call(this,o);"setup"!==o.phase||a?this.setState({actionInProgress:null}):this.setState({actionInProgress:{type:"homeworld",player:o.turn}}),this.dismissWarnings()}else console.log("Blocked")}},{key:"doResetTurn",value:function(e){var n=this.state.history.slice();console.log(n);var r=n[n.length-1][0]||this.getCurrentState();n[n.length-1]=[r],this.setState({history:n,current:r,allActions:this.state.allActions.slice(0,-1).concat([[]]),actionInProgress:"setup"===r.phase?{type:"homeworld",player:e}:null,popup:null}),t.onAfterResetTurn&&t.onAfterResetTurn.call(this,e,r),this.dismissWarnings()}},{key:"dismissWarnings",value:function(){this.setState({showWarningPrompt:!1,showWarningPopup:!1})}},{key:"getActionsAvailableForPiece",value:function(e,t){return this.getCurrentState().getActionsAvailableForPiece(e,t)}},{key:"handleEmptyClick",value:function(){this.setState({popup:null})}},{key:"handleBoardClick",value:function(e,n){window.___lastE=n.nativeEvent;var r=this.state.actionInProgress,o=this.getCurrentState();if(this.dismissWarnings(),t.canInteract&&!t.canInteract.call(this,o))return console.warn("Player cannot do actions."),void this.setState({actionInProgress:null,popup:null});if(r){try{"move"===r.type&&(o.map[e].at!==o.map[r.oldPiece].at?this.doAction({type:"move",player:o.turn,oldPiece:r.oldPiece,system:o.map[e].at},o.turn):console.log("Canceling move action."))}catch(t){t instanceof TypeError?(console.warn(t),alert("This is a bug! You clicked on "+e+" which has no map data, or some other bug...")):alert("Illegal action!\n"+t.message)}this.setState({actionInProgress:null})}else{var a=this.getActionsAvailableForPiece(o.turn,e);console.log(a);var i=this.starMapRef.current.getBoundingClientRect(),l=i.left+window.scrollX,s=i.top+window.scrollY,u=n.nativeEvent.pageX-l,c=n.nativeEvent.pageY-s,h="left",d="top";u>i.width/2&&(u=i.width-u,h="right"),c>i.height/2&&(c=i.height-c,d="bottom"),this.setState({popup:{actions:a,x:u+10,y:c+10,xSide:h,ySide:d}})}}},{key:"handleButtonClick",value:function(e){if(null===e)return this.setState({actionInProgress:null,popup:null}),void console.log("Canceling action");var n=this.getCurrentState();if(t.canInteract&&!t.canInteract.call(this,n))return console.warn("Player cannot do actions."),void this.setState({actionInProgress:null,popup:null});t.onBeforeButtonClick&&!t.onBeforeButtonClick.call(this,e.type,n)&&(console.warn("Action type is blocked."),this.setState({actionInProgress:null,popup:null}));try{switch(e.type){case"build":case"steal":case"sacrifice":case"catastrophe":this.doAction(e,n.turn);break;case"trade":case"move":case"discover":this.setState({actionInProgress:e});break;default:throw new Error("This action ("+e.type+") is invalid (or not supported)")}}catch(e){alert(e.message||String(e)),console.warn(e)}this.setState({popup:null})}},{key:"handleStashClick",value:function(e){var n=this.state.actionInProgress,r=this.getCurrentState();if(t.canInteract&&!t.canInteract.call(this,r))return console.warn("Player cannot do actions."),void this.setState({actionInProgress:null});if(n){try{if("trade"===n.type||"discover"===n.type)this.doAction({type:n.type,player:r.turn,oldPiece:n.oldPiece,newPiece:e},r.turn);else if("homeworld"===n.type){for(var o in n)if(e===n[o])return;var a={};n.star1?void 0===n.star2?a={star1:n.star1,star2:e}:n.ship||(a={star1:n.star1,star2:n.star2,ship:e}):a={star1:e},a.type="homeworld",a.player=r.turn,a.ship?(this.doAction(a,r.turn),this.setState({actionInProgress:null})):this.setState({actionInProgress:a})}}catch(e){console.warn("[Game.handleStashClick]",e),alert(e.message)}"homeworld"!==n.type&&this.setState({actionInProgress:null})}}},{key:"handleResetClick",value:function(){if(t.canInteract&&!t.canInteract.call(this,this.getCurrentState()))return console.warn("Cannot Interact with the Board"),!1;this.doResetTurn(this.getCurrentState().turn)}},{key:"handleEndTurnClick",value:function(){var e=this.getCurrentState();if(!this.props.disableWarnings)for(var t=e.getEndTurnWarnings(),n=0;n<t.length;n++)if("warning"===t[n].level||"danger"===t[n].level)return void this.setState({showWarningPrompt:!0});this.doEndTurn(e.turn)}},{key:"toggleWarningPopup",value:function(){this.setState((function(e){return{showWarningPopup:!(e.showWarningPopup||e.showWarningPrompt)}}))}},{key:"render",value:function(){var n=this,r=this.getCurrentState(),a=o.a.createElement("p",{className:"alert alert-primary lead"},"Game over, "+(r.winner?r.winner+" has won!":"the game is a draw!")),i=r.getEndTurnWarnings(),l={borderColor:"rgba(0,0,0,0)",borderStyle:"solid",borderWidth:"2px",borderRadius:"4px"},s=!t.canInteract||t.canInteract.call(this,r);s&&(l.borderColor="#ccc");var u=0;for(var c in r.map)r.map[c]&&u++;var h=Math.min(window.innerHeight/1800,window.innerWidth/2e3),d=h*Math.min(1.1,1.25-.5*u/36),f=h*Math.min(1,.75+u/60),p=this.state.actionInProgress?this.state.actionInProgress.oldPiece:null,y=t.getProps?t.getProps.call(this):{};return o.a.createElement(e,I({reactState:this.state,gameState:r},y),o.a.createElement("div",{className:"game row no-gutters"},o.a.createElement("div",{className:"star-map-wrapper col"},o.a.createElement("div",{className:"star-map",style:l,ref:this.starMapRef},o.a.createElement(E,{map:r.map,homeworldData:r.homeworldData,scaleFactor:d,viewer:this.state.viewer,activePiece:p,handleBoardClick:function(e,t){return n.handleBoardClick(e,t)}}),o.a.createElement(x,{popup:this.state.popup,handleButtonClick:function(e){return n.handleButtonClick(e)},onBlur:this.handleEmptyClick})),"end"===r.phase?a:null,o.a.createElement("p",{className:"info"},"Turn: ",r.turn," • Actions left: ",r.actions.number),this.state.showWarningPrompt&&!this.props.disableWarnings&&o.a.createElement(A,{warnings:i,onClose:function(){return n.dismissWarnings()},onEndTurn:function(){return n.doEndTurn(r.turn)}}),o.a.createElement(S,{actionInProgress:this.state.actionInProgress,turnActions:r.actions})),o.a.createElement("div",{className:"stash col-auto",align:"right"},o.a.createElement(P,{scaleFactor:f,data:r.map,handleClick:function(e){return n.handleStashClick(e)}}),o.a.createElement(N,{canInteract:s,warnings:i,disableWarnings:this.props.disableWarnings,showPopup:this.state.showWarningPopup&&!this.state.showWarningPrompt,toggleWarningPopup:this.toggleWarningPopup,handleEndTurnClick:this.handleEndTurnClick,handleResetClick:this.handleResetClick}))))}}])&&O(i.prototype,l),s&&O(i,s),c}(o.a.Component)}},5:function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6),o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,h=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.forward_ref"):60112,f=o?Symbol.for("react.suspense"):60113,p=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function v(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||w}function k(){}function T(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||w}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=v.prototype;var E=T.prototype=new k;E.constructor=T,r(E,v.prototype),E.isPureReactComponent=!0;var S={current:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var r,o={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)C.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:a,type:e,key:i,ref:l,props:o,_owner:S.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var N=/\/+/g,I=[];function B(e,t,n,r){if(I.length){var o=I.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,o){var l=typeof t;"undefined"!==l&&"boolean"!==l||(t=null);var s=!1;if(null===t)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case a:case i:s=!0}}if(s)return r(o,t,""===n?"."+_(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+_(l=t[u],u);s+=e(l,c,r,o)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=m&&t[m]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(l=t.next()).done;)s+=e(l=l.value,c=n+_(l,u++),r,o);else if("object"===l)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return s}(e,"",t,n)}function _(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?R(e,r,n,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),r.push(e))}function R(e,t,n,r,o){var a="";null!=n&&(a=(""+n).replace(N,"$&/")+"/"),M(e,j,t=B(t,a,r,o)),O(t)}var z={current:null};function Y(){var e=z.current;if(null===e)throw Error(g(321));return e}var F={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return R(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,D,t=B(null,null,t,n)),O(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return R(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(g(143));return e}},t.Component=v,t.Fragment=l,t.Profiler=u,t.PureComponent=T,t.StrictMode=s,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null==e)throw Error(g(267,e));var o=r({},e.props),i=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)C.call(t,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];o.children=u}return{$$typeof:a,type:e.type,key:i,ref:l,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=P,t.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:y,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return Y().useCallback(e,t)},t.useContext=function(e,t){return Y().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return Y().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return Y().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return Y().useLayoutEffect(e,t)},t.useMemo=function(e,t){return Y().useMemo(e,t)},t.useReducer=function(e,t,n){return Y().useReducer(e,t,n)},t.useRef=function(e){return Y().useRef(e)},t.useState=function(e){return Y().useState(e)},t.version="16.13.1"},6:function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,l,s=i(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){l=r(n);for(var h=0;h<l.length;h++)a.call(n,l[h])&&(s[l[h]]=n[l[h]])}}return s}},69:function(e,t,n){"use strict";t.a=function(e){this.title=e.title,this.disableWarnings=e.disableWarnings,this.startMap=e.startMap,this.steps=e.steps,this.endMessages=e.endMessages}},7:function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),o=n(8),a=n(9);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));function l(e,t,n,r,o,a,i,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var s=!1,u=null,c=!1,h=null,d={onError:function(e){s=!0,u=e}};function f(e,t,n,r,o,a,i,c,h){s=!1,u=null,l.apply(d,arguments)}var p=null,y=null,m=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,o,a,l,d,p){if(f.apply(this,arguments),s){if(!s)throw Error(i(198));var y=u;s=!1,u=null,c||(c=!0,h=y)}}(r,t,void 0,e),e.currentTarget=null}var w=null,b={};function v(){if(w)for(var e in b){var t=b[e],n=w.indexOf(e);if(!(-1<n))throw Error(i(96,e));if(!T[n]){if(!t.extractEvents)throw Error(i(97,e));for(var r in T[n]=t,n=t.eventTypes){var o=void 0,a=n[r],l=t,s=r;if(E.hasOwnProperty(s))throw Error(i(99,s));E[s]=a;var u=a.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&k(u[o],l,s);o=!0}else a.registrationName?(k(a.registrationName,l,s),o=!0):o=!1;if(!o)throw Error(i(98,r,e))}}}}function k(e,t,n){if(S[e])throw Error(i(100,e));S[e]=t,C[e]=t.eventTypes[n].dependencies}var T=[],E={},S={},C={};function x(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(i(102,t));b[t]=r,n=!0}}n&&v()}var P=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),A=null,N=null,I=null;function B(e){if(e=y(e)){if("function"!=typeof A)throw Error(i(280));var t=e.stateNode;t&&(t=p(t),A(e.stateNode,e.type,t))}}function O(e){N?I?I.push(e):I=[e]:N=e}function M(){if(N){var e=N,t=I;if(I=N=null,B(e),t)for(e=0;e<t.length;e++)B(t[e])}}function _(e,t){return e(t)}function D(e,t,n,r,o){return e(t,n,r,o)}function j(){}var R=_,z=!1,Y=!1;function F(){null===N&&null===I||(j(),M())}function L(e,t,n){if(Y)return e(t,n);Y=!0;try{return R(e,t,n)}finally{Y=!1,F()}}var W=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,U={},V={};function Q(e,t,n,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new Q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new Q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new Q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new Q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new Q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new Q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new Q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new Q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new Q(e,5,!1,e.toLowerCase(),null,!1)}));var G=/[\-:]([a-z])/g;function q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(G,q);$[t]=new Q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(G,q);$[t]=new Q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(G,q);$[t]=new Q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new Q(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new Q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new Q(e,1,!1,e.toLowerCase(),null,!0)}));var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var o=$.hasOwnProperty(t)?$[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!H.call(V,e)||!H.call(U,e)&&(W.test(e)?V[e]=!0:(U[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,oe=Z?Symbol.for("react.profiler"):60114,ae=Z?Symbol.for("react.provider"):60109,ie=Z?Symbol.for("react.context"):60110,le=Z?Symbol.for("react.concurrent_mode"):60111,se=Z?Symbol.for("react.forward_ref"):60112,ue=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,he=Z?Symbol.for("react.memo"):60115,de=Z?Symbol.for("react.lazy"):60116,fe=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function ye(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case oe:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ie:return"Context.Consumer";case ae:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return me(e.type);case fe:return me(e.render);case de:if(e=1===e._status?e._result:null)return me(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",o?a=" (at "+o.fileName.replace(J,"")+":"+o.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ve(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=we(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Ce(e,t){Se(e,t);var n=we(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pe(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function xe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ae(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+we(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Be(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:we(n)}}function Oe(e,t){var n=we(t.value),r=we(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var _e="http://www.w3.org/1999/xhtml",De="http://www.w3.org/2000/svg";function je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ze,Ye=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==De||"innerHTML"in e)e.innerHTML=t;else{for((ze=ze||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ze.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Le(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var We={animationend:Le("Animation","AnimationEnd"),animationiteration:Le("Animation","AnimationIteration"),animationstart:Le("Animation","AnimationStart"),transitionend:Le("Transition","TransitionEnd")},He={},Ue={};function Ve(e){if(He[e])return He[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ue)return He[e]=n[t];return e}P&&(Ue=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Qe=Ve("animationend"),$e=Ve("animationiteration"),Ge=Ve("animationstart"),qe=Ve("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(i(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return tt(o),e;if(a===r)return tt(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=a;break}if(s===r){l=!0,r=o,n=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===n){l=!0,n=a,r=o;break}if(s===r){l=!0,r=a,n=o;break}s=s.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(i(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function it(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(at=rt(at,e)),e=at,at=null,e){if(ot(e,it),at)throw Error(i(95));if(c)throw e=h,c=!1,h=null,e}}function st(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!P)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function dt(e,t,n,r){if(ct.length){var o=ct.pop();return o.topLevelType=e,o.eventSystemFlags=r,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ft(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Pn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=st(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,i=e.eventSystemFlags;0===n&&(i|=64);for(var l=null,s=0;s<T.length;s++){var u=T[s];u&&(u=u.extractEvents(r,t,a,o,i))&&(l=rt(l,u))}lt(l)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Gt(t,"scroll",!0);break;case"focus":case"blur":Gt(t,"focus",!0),Gt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Gt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(e)&&$t(e,t)}n.set(e,null)}}var yt,mt,gt,wt=!1,bt=[],vt=null,kt=null,Tt=null,Et=new Map,St=new Map,Ct=[],xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Pt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o,container:r}}function Nt(e,t){switch(e){case"focus":case"blur":vt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function It(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e=At(t,n,r,o,a),null!==t&&(null!==(t=An(t))&&mt(t)),e):(e.eventSystemFlags|=r,e)}function Bt(e){var t=Pn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=An(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){Ot(e)&&n.delete(t)}function _t(){for(wt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=An(e.blockedOn))&&yt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==vt&&Ot(vt)&&(vt=null),null!==kt&&Ot(kt)&&(kt=null),null!==Tt&&Ot(Tt)&&(Tt=null),Et.forEach(Mt),St.forEach(Mt)}function Dt(e,t){e.blockedOn===t&&(e.blockedOn=null,wt||(wt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_t)))}function jt(e){function t(t){return Dt(t,e)}if(0<bt.length){Dt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==vt&&Dt(vt,e),null!==kt&&Dt(kt,e),null!==Tt&&Dt(Tt,e),Et.forEach(t),St.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Bt(n),null===n.blockedOn&&Ct.shift()}var Rt={},zt=new Map,Yt=new Map,Ft=["abort","abort",Qe,"animationEnd",$e,"animationIteration",Ge,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qe,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1],a="on"+(o[0].toUpperCase()+o.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Yt.set(r,t),zt.set(r,a),Rt[o]=a}}Lt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Ft,2);for(var Wt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Wt.length;Ht++)Yt.set(Wt[Ht],0);var Ut=a.unstable_UserBlockingPriority,Vt=a.unstable_runWithPriority,Qt=!0;function $t(e,t){Gt(t,e,!1)}function Gt(e,t,n){var r=Yt.get(t);switch(void 0===r?2:r){case 0:r=qt.bind(null,t,1,e);break;case 1:r=Kt.bind(null,t,1,e);break;default:r=Xt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function qt(e,t,n,r){z||j();var o=Xt,a=z;z=!0;try{D(o,e,t,n,r)}finally{(z=a)||F()}}function Kt(e,t,n,r){Vt(Ut,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){if(Qt)if(0<bt.length&&-1<xt.indexOf(e))e=At(null,e,t,n,r),bt.push(e);else{var o=Jt(e,t,n,r);if(null===o)Nt(e,r);else if(-1<xt.indexOf(e))e=At(o,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,o){switch(t){case"focus":return vt=It(vt,e,t,n,r,o),!0;case"dragenter":return kt=It(kt,e,t,n,r,o),!0;case"mouseover":return Tt=It(Tt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Et.set(a,It(Et.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,St.set(a,It(St.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r)){Nt(e,r),e=dt(e,r,null,t);try{L(ft,e)}finally{ht(e)}}}}function Jt(e,t,n,r){if(null!==(n=Pn(n=st(r)))){var o=Ze(n);if(null===o)n=null;else{var a=o.tag;if(13===a){if(null!==(n=et(o)))return n;n=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}e=dt(e,r,n,t);try{L(ft,e)}finally{ht(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=_e;function sn(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=C[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function un(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function fn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn=null,mn=null;function gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function wn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,vn="function"==typeof clearTimeout?clearTimeout:void 0;function kn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Tn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),Sn="__reactInternalInstance$"+En,Cn="__reactEventHandlers$"+En,xn="__reactContainere$"+En;function Pn(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[Sn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Tn(e);null!==e;){if(n=e[Sn])return n;e=Tn(e)}return t}n=(e=n).parentNode}return null}function An(e){return!(e=e[Sn]||e[xn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Nn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function In(e){return e[Cn]||null}function Bn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function On(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}function Mn(e,t,n){(t=On(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function _n(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Bn(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function Dn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=On(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function jn(e){e&&e.dispatchConfig.registrationName&&Dn(e._targetInst,null,e)}function Rn(e){ot(e,_n)}var zn=null,Yn=null,Fn=null;function Ln(){if(Fn)return Fn;var e,t,n=Yn,r=n.length,o="value"in zn?zn.value:zn.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Fn=o.slice(e,1<t?1-t:void 0)}function Wn(){return!0}function Hn(){return!1}function Un(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wn:Hn,this.isPropagationStopped=Hn,this}function Vn(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Qn(e){if(!(e instanceof this))throw Error(i(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Vn,e.release=Qn}o(Un.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){this.isPersistent=Wn},isPersistent:Hn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Un.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Un.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return o(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Un);var Gn=Un.extend({data:null}),qn=Un.extend({data:null}),Kn=[9,13,27,32],Xn=P&&"CompositionEvent"in window,Jn=null;P&&"documentMode"in document&&(Jn=document.documentMode);var Zn=P&&"TextEvent"in window&&!Jn,er=P&&(!Xn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function or(e,t){switch(e){case"keyup":return-1!==Kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ar(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ir=!1;var lr={eventTypes:nr,extractEvents:function(e,t,n,r){var o;if(Xn)e:{switch(e){case"compositionstart":var a=nr.compositionStart;break e;case"compositionend":a=nr.compositionEnd;break e;case"compositionupdate":a=nr.compositionUpdate;break e}a=void 0}else ir?or(e,n)&&(a=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=nr.compositionStart);return a?(er&&"ko"!==n.locale&&(ir||a!==nr.compositionStart?a===nr.compositionEnd&&ir&&(o=Ln()):(Yn="value"in(zn=r)?zn.value:zn.textContent,ir=!0)),a=Gn.getPooled(a,t,n,r),o?a.data=o:null!==(o=ar(n))&&(a.data=o),Rn(a),o=a):o=null,(e=Zn?function(e,t){switch(e){case"compositionend":return ar(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ir)return"compositionend"===e||!Xn&&or(e,t)?(e=Ln(),Fn=Yn=zn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=qn.getPooled(nr.beforeInput,t,n,r)).data=e,Rn(t)):t=null,null===o?t:null===t?o:[o,t]}},sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!sr[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(e,t,n){return(e=Un.getPooled(cr.change,e,t,n)).type="change",O(n),Rn(e),e}var dr=null,fr=null;function pr(e){lt(e)}function yr(e){if(ke(Nn(e)))return e}function mr(e,t){if("change"===e)return t}var gr=!1;function wr(){dr&&(dr.detachEvent("onpropertychange",br),fr=dr=null)}function br(e){if("value"===e.propertyName&&yr(fr))if(e=hr(fr,e,st(e)),z)lt(e);else{z=!0;try{_(pr,e)}finally{z=!1,F()}}}function vr(e,t,n){"focus"===e?(wr(),fr=n,(dr=t).attachEvent("onpropertychange",br)):"blur"===e&&wr()}function kr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return yr(fr)}function Tr(e,t){if("click"===e)return yr(t)}function Er(e,t){if("input"===e||"change"===e)return yr(t)}P&&(gr=ut("input")&&(!document.documentMode||9<document.documentMode));var Sr={eventTypes:cr,_isInputEventSupported:gr,extractEvents:function(e,t,n,r){var o=t?Nn(t):window,a=o.nodeName&&o.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===o.type)var i=mr;else if(ur(o))if(gr)i=Er;else{i=kr;var l=vr}else(a=o.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=Tr);if(i&&(i=i(e,t)))return hr(i,n,r);l&&l(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Pe(o,"number",o.value)}},Cr=Un.extend({view:null,detail:null}),xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function Ar(){return Pr}var Nr=0,Ir=0,Br=!1,Or=!1,Mr=Cr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ar,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Nr;return Nr=e.screenX,Br?"mousemove"===e.type?e.screenX-t:0:(Br=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ir;return Ir=e.screenY,Or?"mousemove"===e.type?e.screenY-t:0:(Or=!0,0)}}),_r=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Dr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},jr={eventTypes:Dr,extractEvents:function(e,t,n,r,o){var a="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(a&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!i&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,i)?(i=t,null!==(t=(t=n.relatedTarget||n.toElement)?Pn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):i=null;if(i===t)return null;if("mouseout"===e||"mouseover"===e)var l=Mr,s=Dr.mouseLeave,u=Dr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(l=_r,s=Dr.pointerLeave,u=Dr.pointerEnter,c="pointer");if(e=null==i?a:Nn(i),a=null==t?a:Nn(t),(s=l.getPooled(s,i,n,r)).type=c+"leave",s.target=e,s.relatedTarget=a,(n=l.getPooled(u,t,n,r)).type=c+"enter",n.target=a,n.relatedTarget=e,c=t,(r=i)&&c)e:{for(u=c,i=0,e=l=r;e;e=Bn(e))i++;for(e=0,t=u;t;t=Bn(t))e++;for(;0<i-e;)l=Bn(l),i--;for(;0<e-i;)u=Bn(u),e--;for(;i--;){if(l===u||l===u.alternate)break e;l=Bn(l),u=Bn(u)}l=null}else l=null;for(u=l,l=[];r&&r!==u&&(null===(i=r.alternate)||i!==u);)l.push(r),r=Bn(r);for(r=[];c&&c!==u&&(null===(i=c.alternate)||i!==u);)r.push(c),c=Bn(c);for(c=0;c<l.length;c++)Dn(l[c],"bubbled",s);for(c=r.length;0<c--;)Dn(r[c],"captured",n);return 0==(64&o)?[s]:[s,n]}};var Rr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},zr=Object.prototype.hasOwnProperty;function Yr(e,t){if(Rr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!zr.call(t,n[r])||!Rr(e[n[r]],t[n[r]]))return!1;return!0}var Fr=P&&"documentMode"in document&&11>=document.documentMode,Lr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wr=null,Hr=null,Ur=null,Vr=!1;function Qr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Vr||null==Wr||Wr!==cn(n)?null:("selectionStart"in(n=Wr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Ur&&Yr(Ur,n)?null:(Ur=n,(e=Un.getPooled(Lr.select,Hr,e,t)).type="select",e.target=Wr,Rn(e),e))}var $r={eventTypes:Lr,extractEvents:function(e,t,n,r,o,a){if(!(a=!(o=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{o=Je(o),a=C.onSelect;for(var i=0;i<a.length;i++)if(!o.has(a[i])){o=!1;break e}o=!0}a=!o}if(a)return null;switch(o=t?Nn(t):window,e){case"focus":(ur(o)||"true"===o.contentEditable)&&(Wr=o,Hr=t,Ur=null);break;case"blur":Ur=Hr=Wr=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Vr=!1,Qr(n,r);case"selectionchange":if(Fr)break;case"keydown":case"keyup":return Qr(n,r)}return null}},Gr=Un.extend({animationName:null,elapsedTime:null,pseudoElement:null}),qr=Un.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kr=Cr.extend({relatedTarget:null});function Xr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eo=Cr.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ar,charCode:function(e){return"keypress"===e.type?Xr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),to=Mr.extend({dataTransfer:null}),no=Cr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ar}),ro=Un.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),oo=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ao={eventTypes:Rt,extractEvents:function(e,t,n,r){var o=zt.get(e);if(!o)return null;switch(e){case"keypress":if(0===Xr(n))return null;case"keydown":case"keyup":e=eo;break;case"blur":case"focus":e=Kr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=to;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=no;break;case Qe:case $e:case Ge:e=Gr;break;case qe:e=ro;break;case"scroll":e=Cr;break;case"wheel":e=oo;break;case"copy":case"cut":case"paste":e=qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=_r;break;default:e=Un}return Rn(t=e.getPooled(o,t,n,r)),t}};if(w)throw Error(i(101));w=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),v(),p=In,y=An,m=Nn,x({SimpleEventPlugin:ao,EnterLeaveEventPlugin:jr,ChangeEventPlugin:Sr,SelectEventPlugin:$r,BeforeInputEventPlugin:lr});var io=[],lo=-1;function so(e){0>lo||(e.current=io[lo],io[lo]=null,lo--)}function uo(e,t){lo++,io[lo]=e.current,e.current=t}var co={},ho={current:co},fo={current:!1},po=co;function yo(e,t){var n=e.type.contextTypes;if(!n)return co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mo(e){return null!=(e=e.childContextTypes)}function go(){so(fo),so(ho)}function wo(e,t,n){if(ho.current!==co)throw Error(i(168));uo(ho,t),uo(fo,n)}function bo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(i(108,me(t)||"Unknown",a));return o({},n,{},r)}function vo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||co,po=ho.current,uo(ho,e),uo(fo,fo.current),!0}function ko(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=bo(e,t,po),r.__reactInternalMemoizedMergedChildContext=e,so(fo),so(ho),uo(ho,e)):so(fo),uo(fo,n)}var To=a.unstable_runWithPriority,Eo=a.unstable_scheduleCallback,So=a.unstable_cancelCallback,Co=a.unstable_requestPaint,xo=a.unstable_now,Po=a.unstable_getCurrentPriorityLevel,Ao=a.unstable_ImmediatePriority,No=a.unstable_UserBlockingPriority,Io=a.unstable_NormalPriority,Bo=a.unstable_LowPriority,Oo=a.unstable_IdlePriority,Mo={},_o=a.unstable_shouldYield,Do=void 0!==Co?Co:function(){},jo=null,Ro=null,zo=!1,Yo=xo(),Fo=1e4>Yo?xo:function(){return xo()-Yo};function Lo(){switch(Po()){case Ao:return 99;case No:return 98;case Io:return 97;case Bo:return 96;case Oo:return 95;default:throw Error(i(332))}}function Wo(e){switch(e){case 99:return Ao;case 98:return No;case 97:return Io;case 96:return Bo;case 95:return Oo;default:throw Error(i(332))}}function Ho(e,t){return e=Wo(e),To(e,t)}function Uo(e,t,n){return e=Wo(e),Eo(e,t,n)}function Vo(e){return null===jo?(jo=[e],Ro=Eo(Ao,$o)):jo.push(e),Mo}function Qo(){if(null!==Ro){var e=Ro;Ro=null,So(e)}$o()}function $o(){if(!zo&&null!==jo){zo=!0;var e=0;try{var t=jo;Ho(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),jo=null}catch(t){throw null!==jo&&(jo=jo.slice(e+1)),Eo(Ao,Qo),t}finally{zo=!1}}}function Go(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function qo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ko={current:null},Xo=null,Jo=null,Zo=null;function ea(){Zo=Jo=Xo=null}function ta(e){var t=Ko.current;so(Ko),e.type._context._currentValue=t}function na(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ra(e,t){Xo=e,Zo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ii=!0),e.firstContext=null)}function oa(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Xo)throw Error(i(308));Jo=t,Xo.dependencies={expirationTime:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var aa=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function sa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ua(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.alternate;null!==n&&la(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ha(e,t,n,r){var a=e.updateQueue;aa=!1;var i=a.baseQueue,l=a.shared.pending;if(null!==l){if(null!==i){var s=i.next;i.next=l.next,l.next=s}i=l,a.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=l))}if(null!==i){s=i.next;var u=a.baseState,c=0,h=null,d=null,f=null;if(null!==s)for(var p=s;;){if((l=p.expirationTime)<r){var y={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=y,h=u):f=f.next=y,l>c&&(c=l)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),as(l,p.suspenseConfig);e:{var m=e,g=p;switch(l=t,y=n,g.tag){case 1:if("function"==typeof(m=g.payload)){u=m.call(y,u,l);break e}u=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(l="function"==typeof(m=g.payload)?m.call(y,u,l):m))break e;u=o({},u,l);break e;case 2:aa=!0}}null!==p.callback&&(e.effectTag|=32,null===(l=a.effects)?a.effects=[p]:l.push(p))}if(null===(p=p.next)||p===s){if(null===(l=a.shared.pending))break;p=i.next=l.next,l.next=s,a.baseQueue=i=l,a.shared.pending=null}}null===f?h=u:f.next=d,a.baseState=h,a.baseQueue=f,is(c),e.expirationTime=c,e.memoizedState=u}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!=typeof r)throw Error(i(191,r));r.call(o)}}}var fa=K.ReactCurrentBatchConfig,pa=(new r.Component).refs;function ya(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ql(),o=fa.suspense;(o=sa(r=$l(r,e,o),o)).payload=t,null!=n&&(o.callback=n),ua(e,o),Gl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ql(),o=fa.suspense;(o=sa(r=$l(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),ua(e,o),Gl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ql(),r=fa.suspense;(r=sa(n=$l(n,e,r),r)).tag=2,null!=t&&(r.callback=t),ua(e,r),Gl(e,n)}};function ga(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Yr(n,r)||!Yr(o,a))}function wa(e,t,n){var r=!1,o=co,a=t.contextType;return"object"==typeof a&&null!==a?a=oa(a):(o=mo(t)?po:ho.current,a=(r=null!=(r=t.contextTypes))?yo(e,o):co),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function va(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=pa,ia(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=oa(a):(a=mo(t)?po:ho.current,o.context=yo(e,a)),ha(e,n,o,r),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ma.enqueueReplaceState(o,o.state,null),ha(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var ka=Array.isArray;function Ta(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=xs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function l(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ns(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Ta(e,t,n),r.return=e,r):((r=Ps(n.type,n.key,n.props,null,e.mode,r)).ref=Ta(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Is(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=As(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ns(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ps(t.type,t.key,t.props,null,e.mode,n)).ref=Ta(e,null,t),n.return=e,n;case te:return(t=Is(t,e.mode,n)).return=e,t}if(ka(t)||ye(t))return(t=As(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===o?n.type===ne?h(e,t,n.props.children,r,o):u(e,t,n,r):null;case te:return n.key===o?c(e,t,n,r):null}if(ka(n)||ye(n))return null!==o?null:h(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?h(t,e,r.props.children,o,r.key):u(t,e,r,o);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(ka(r)||ye(r))return h(t,e=e.get(n)||null,r,o,null);Ea(t,r)}return null}function y(o,i,l,s){for(var u=null,c=null,h=i,y=i=0,m=null;null!==h&&y<l.length;y++){h.index>y?(m=h,h=null):m=h.sibling;var g=f(o,h,l[y],s);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(o,h),i=a(g,i,y),null===c?u=g:c.sibling=g,c=g,h=m}if(y===l.length)return n(o,h),u;if(null===h){for(;y<l.length;y++)null!==(h=d(o,l[y],s))&&(i=a(h,i,y),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(o,h);y<l.length;y++)null!==(m=p(h,o,y,l[y],s))&&(e&&null!==m.alternate&&h.delete(null===m.key?y:m.key),i=a(m,i,y),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(o,e)})),u}function m(o,l,s,u){var c=ye(s);if("function"!=typeof c)throw Error(i(150));if(null==(s=c.call(s)))throw Error(i(151));for(var h=c=null,y=l,m=l=0,g=null,w=s.next();null!==y&&!w.done;m++,w=s.next()){y.index>m?(g=y,y=null):g=y.sibling;var b=f(o,y,w.value,u);if(null===b){null===y&&(y=g);break}e&&y&&null===b.alternate&&t(o,y),l=a(b,l,m),null===h?c=b:h.sibling=b,h=b,y=g}if(w.done)return n(o,y),c;if(null===y){for(;!w.done;m++,w=s.next())null!==(w=d(o,w.value,u))&&(l=a(w,l,m),null===h?c=w:h.sibling=w,h=w);return c}for(y=r(o,y);!w.done;m++,w=s.next())null!==(w=p(y,o,m,w.value,u))&&(e&&null!==w.alternate&&y.delete(null===w.key?m:w.key),l=a(w,l,m),null===h?c=w:h.sibling=w,h=w);return e&&y.forEach((function(e){return t(o,e)})),c}return function(e,r,a,s){var u="object"==typeof a&&null!==a&&a.type===ne&&null===a.key;u&&(a=a.props.children);var c="object"==typeof a&&null!==a;if(c)switch(a.$$typeof){case ee:e:{for(c=a.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(a.type===ne){n(e,u.sibling),(r=o(u,a.props.children)).return=e,e=r;break e}break;default:if(u.elementType===a.type){n(e,u.sibling),(r=o(u,a.props)).ref=Ta(e,u,a),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}a.type===ne?((r=As(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ps(a.type,a.key,a.props,null,e.mode,s)).ref=Ta(e,r,a),s.return=e,e=s)}return l(e);case te:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=o(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Is(a,e.mode,s)).return=e,e=r}return l(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,a)).return=e,e=r):(n(e,r),(r=Ns(a,e.mode,s)).return=e,e=r),l(e);if(ka(a))return y(e,r,a,s);if(ye(a))return m(e,r,a,s);if(c&&Ea(e,a),void 0===a&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(i(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ca=Sa(!0),xa=Sa(!1),Pa={},Aa={current:Pa},Na={current:Pa},Ia={current:Pa};function Ba(e){if(e===Pa)throw Error(i(174));return e}function Oa(e,t){switch(uo(Ia,t),uo(Na,e),uo(Aa,Pa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Re(null,"");break;default:t=Re(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}so(Aa),uo(Aa,t)}function Ma(){so(Aa),so(Na),so(Ia)}function _a(e){Ba(Ia.current);var t=Ba(Aa.current),n=Re(t,e.type);t!==n&&(uo(Na,e),uo(Aa,n))}function Da(e){Na.current===e&&(so(Aa),so(Na))}var ja={current:0};function Ra(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function za(e,t){return{responder:e,props:t}}var Ya=K.ReactCurrentDispatcher,Fa=K.ReactCurrentBatchConfig,La=0,Wa=null,Ha=null,Ua=null,Va=!1;function Qa(){throw Error(i(321))}function $a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rr(e[n],t[n]))return!1;return!0}function Ga(e,t,n,r,o,a){if(La=a,Wa=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ya.current=null===e||null===e.memoizedState?gi:wi,e=n(r,o),t.expirationTime===La){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(i(301));a+=1,Ua=Ha=null,t.updateQueue=null,Ya.current=bi,e=n(r,o)}while(t.expirationTime===La)}if(Ya.current=mi,t=null!==Ha&&null!==Ha.next,La=0,Ua=Ha=Wa=null,Va=!1,t)throw Error(i(300));return e}function qa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ua?Wa.memoizedState=Ua=e:Ua=Ua.next=e,Ua}function Ka(){if(null===Ha){var e=Wa.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Ua?Wa.memoizedState:Ua.next;if(null!==t)Ua=t,Ha=e;else{if(null===e)throw Error(i(310));e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Ua?Wa.memoizedState=Ua=e:Ua=Ua.next=e}return Ua}function Xa(e,t){return"function"==typeof t?t(e):t}function Ja(e){var t=Ka(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=Ha,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var l=o.next;o.next=a.next,a.next=l}r.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var s=l=a=null,u=o;do{var c=u.expirationTime;if(c<La){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(l=s=h,a=r):s=s.next=h,c>Wa.expirationTime&&(Wa.expirationTime=c,is(c))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),as(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==o);null===s?a=r:s.next=l,Rr(r,t.memoizedState)||(Ii=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Za(e){var t=Ka(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var l=o=o.next;do{a=e(a,l.action),l=l.next}while(l!==o);Rr(a,t.memoizedState)||(Ii=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ei(e){var t=qa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:e}).dispatch=yi.bind(null,Wa,e),[t.memoizedState,e]}function ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Wa.updateQueue)?(t={lastEffect:null},Wa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ni(){return Ka().memoizedState}function ri(e,t,n,r){var o=qa();Wa.effectTag|=e,o.memoizedState=ti(1|t,n,void 0,void 0===r?null:r)}function oi(e,t,n,r){var o=Ka();r=void 0===r?null:r;var a=void 0;if(null!==Ha){var i=Ha.memoizedState;if(a=i.destroy,null!==r&&$a(r,i.deps))return void ti(t,n,a,r)}Wa.effectTag|=e,o.memoizedState=ti(1|t,n,a,r)}function ai(e,t){return ri(516,4,e,t)}function ii(e,t){return oi(516,4,e,t)}function li(e,t){return oi(4,2,e,t)}function si(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ui(e,t,n){return n=null!=n?n.concat([e]):null,oi(4,2,si.bind(null,t,e),n)}function ci(){}function hi(e,t){return qa().memoizedState=[e,void 0===t?null:t],e}function di(e,t){var n=Ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fi(e,t){var n=Ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pi(e,t,n){var r=Lo();Ho(98>r?98:r,(function(){e(!0)})),Ho(97<r?97:r,(function(){var r=Fa.suspense;Fa.suspense=void 0===t?null:t;try{e(!1),n()}finally{Fa.suspense=r}}))}function yi(e,t,n){var r=Ql(),o=fa.suspense;o={expirationTime:r=$l(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Wa||null!==a&&a===Wa)Va=!0,o.expirationTime=La,Wa.expirationTime=La;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,n);if(o.eagerReducer=a,o.eagerState=l,Rr(l,i))return}catch(e){}Gl(e,r)}}var mi={readContext:oa,useCallback:Qa,useContext:Qa,useEffect:Qa,useImperativeHandle:Qa,useLayoutEffect:Qa,useMemo:Qa,useReducer:Qa,useRef:Qa,useState:Qa,useDebugValue:Qa,useResponder:Qa,useDeferredValue:Qa,useTransition:Qa},gi={readContext:oa,useCallback:hi,useContext:oa,useEffect:ai,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ri(4,2,si.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ri(4,2,e,t)},useMemo:function(e,t){var n=qa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=yi.bind(null,Wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},qa().memoizedState=e},useState:ei,useDebugValue:ci,useResponder:za,useDeferredValue:function(e,t){var n=ei(e),r=n[0],o=n[1];return ai((function(){var n=Fa.suspense;Fa.suspense=void 0===t?null:t;try{o(e)}finally{Fa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ei(!1),n=t[0];return t=t[1],[hi(pi.bind(null,t,e),[t,e]),n]}},wi={readContext:oa,useCallback:di,useContext:oa,useEffect:ii,useImperativeHandle:ui,useLayoutEffect:li,useMemo:fi,useReducer:Ja,useRef:ni,useState:function(){return Ja(Xa)},useDebugValue:ci,useResponder:za,useDeferredValue:function(e,t){var n=Ja(Xa),r=n[0],o=n[1];return ii((function(){var n=Fa.suspense;Fa.suspense=void 0===t?null:t;try{o(e)}finally{Fa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ja(Xa),n=t[0];return t=t[1],[di(pi.bind(null,t,e),[t,e]),n]}},bi={readContext:oa,useCallback:di,useContext:oa,useEffect:ii,useImperativeHandle:ui,useLayoutEffect:li,useMemo:fi,useReducer:Za,useRef:ni,useState:function(){return Za(Xa)},useDebugValue:ci,useResponder:za,useDeferredValue:function(e,t){var n=Za(Xa),r=n[0],o=n[1];return ii((function(){var n=Fa.suspense;Fa.suspense=void 0===t?null:t;try{o(e)}finally{Fa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Za(Xa),n=t[0];return t=t[1],[di(pi.bind(null,t,e),[t,e]),n]}},vi=null,ki=null,Ti=!1;function Ei(e,t){var n=Ss(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ci(e){if(Ti){var t=ki;if(t){var n=t;if(!Si(e,t)){if(!(t=kn(n.nextSibling))||!Si(e,t))return e.effectTag=-1025&e.effectTag|2,Ti=!1,void(vi=e);Ei(vi,n)}vi=e,ki=kn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ti=!1,vi=e}}function xi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;vi=e}function Pi(e){if(e!==vi)return!1;if(!Ti)return xi(e),Ti=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wn(t,e.memoizedProps))for(t=ki;t;)Ei(e,t),t=kn(t.nextSibling);if(xi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ki=kn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ki=null}}else ki=vi?kn(e.stateNode.nextSibling):null;return!0}function Ai(){ki=vi=null,Ti=!1}var Ni=K.ReactCurrentOwner,Ii=!1;function Bi(e,t,n,r){t.child=null===e?xa(t,null,n,r):Ca(t,e.child,n,r)}function Oi(e,t,n,r,o){n=n.render;var a=t.ref;return ra(t,o),r=Ga(e,t,n,r,a,o),null===e||Ii?(t.effectTag|=1,Bi(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Gi(e,t,o))}function Mi(e,t,n,r,o,a){if(null===e){var i=n.type;return"function"!=typeof i||Cs(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ps(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,_i(e,t,i,r,o,a))}return i=e.child,o<a&&(o=i.memoizedProps,(n=null!==(n=n.compare)?n:Yr)(o,r)&&e.ref===t.ref)?Gi(e,t,a):(t.effectTag|=1,(e=xs(i,r)).ref=t.ref,e.return=t,t.child=e)}function _i(e,t,n,r,o,a){return null!==e&&Yr(e.memoizedProps,r)&&e.ref===t.ref&&(Ii=!1,o<a)?(t.expirationTime=e.expirationTime,Gi(e,t,a)):ji(e,t,n,r,a)}function Di(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ji(e,t,n,r,o){var a=mo(n)?po:ho.current;return a=yo(t,a),ra(t,o),n=Ga(e,t,n,r,a,o),null===e||Ii?(t.effectTag|=1,Bi(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Gi(e,t,o))}function Ri(e,t,n,r,o){if(mo(n)){var a=!0;vo(t)}else a=!1;if(ra(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wa(t,n,r),va(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,u=n.contextType;"object"==typeof u&&null!==u?u=oa(u):u=yo(t,u=mo(n)?po:ho.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;h||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==r||s!==u)&&ba(t,i,r,u),aa=!1;var d=t.memoizedState;i.state=d,ha(t,r,i,o),s=t.memoizedState,l!==r||d!==s||fo.current||aa?("function"==typeof c&&(ya(t,n,c,r),s=t.memoizedState),(l=aa||ga(t,n,l,r,d,s,u))?(h||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.effectTag|=4)):("function"==typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),i.props=r,i.state=s,i.context=u,r=l):("function"==typeof i.componentDidMount&&(t.effectTag|=4),r=!1)}else i=t.stateNode,la(e,t),l=t.memoizedProps,i.props=t.type===t.elementType?l:qo(t.type,l),s=i.context,"object"==typeof(u=n.contextType)&&null!==u?u=oa(u):u=yo(t,u=mo(n)?po:ho.current),(h="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==r||s!==u)&&ba(t,i,r,u),aa=!1,s=t.memoizedState,i.state=s,ha(t,r,i,o),d=t.memoizedState,l!==r||s!==d||fo.current||aa?("function"==typeof c&&(ya(t,n,c,r),d=t.memoizedState),(c=aa||ga(t,n,l,r,s,d,u))?(h||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,d,u),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,d,u)),"function"==typeof i.componentDidUpdate&&(t.effectTag|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=u,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return zi(e,t,n,r,a,o)}function zi(e,t,n,r,o,a){Di(e,t);var i=0!=(64&t.effectTag);if(!r&&!i)return o&&ko(t,n,!1),Gi(e,t,a);r=t.stateNode,Ni.current=t;var l=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&i?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,l,a)):Bi(e,t,l,a),t.memoizedState=r.state,o&&ko(t,n,!0),t.child}function Yi(e){var t=e.stateNode;t.pendingContext?wo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wo(0,t.context,!1),Oa(e,t.containerInfo)}var Fi,Li,Wi,Hi={dehydrated:null,retryTime:0};function Ui(e,t,n){var r,o=t.mode,a=t.pendingProps,i=ja.current,l=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&i)&&(null===e||null!==e.memoizedState)),r?(l=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),uo(ja,1&i),null===e){if(void 0!==a.fallback&&Ci(t),l){if(l=a.fallback,(a=As(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=As(l,o,n,null)).return=t,a.sibling=n,t.memoizedState=Hi,t.child=a,n}return o=a.children,t.memoizedState=null,t.child=xa(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,l){if(a=a.fallback,(n=xs(e,e.pendingProps)).return=t,0==(2&t.mode)&&(l=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=l;null!==l;)l.return=n,l=l.sibling;return(o=xs(o,a)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=Hi,t.child=n,o}return n=Ca(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,l){if(l=a.fallback,(a=As(null,o,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=As(l,o,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Hi,t.child=a,n}return t.memoizedState=null,t.child=Ca(t,e,a.children,n)}function Vi(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),na(e.return,t)}function Qi(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailExpiration=0,i.tailMode=o,i.lastEffect=a)}function $i(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Bi(e,t,r.children,n),0!=(2&(r=ja.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vi(e,n);else if(19===e.tag)Vi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(uo(ja,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Ra(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Qi(t,!1,o,n,a,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Ra(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Qi(t,!0,n,null,a,t.lastEffect);break;case"together":Qi(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Gi(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&is(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=xs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qi(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ki(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mo(t.type)&&go(),null;case 3:return Ma(),so(fo),so(ho),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Pi(t)||(t.effectTag|=4),null;case 5:Da(t),n=Ba(Ia.current);var a=t.type;if(null!==e&&null!=t.stateNode)Li(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Ba(Aa.current),Pi(t)){r=t.stateNode,a=t.type;var l=t.memoizedProps;switch(r[Sn]=t,r[Cn]=l,a){case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(e=0;e<Ke.length;e++)$t(Ke[e],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"form":$t("reset",r),$t("submit",r);break;case"details":$t("toggle",r);break;case"input":Ee(r,l),$t("invalid",r),sn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!l.multiple},$t("invalid",r),sn(n,"onChange");break;case"textarea":Be(r,l),$t("invalid",r),sn(n,"onChange")}for(var s in on(a,l),e=null,l)if(l.hasOwnProperty(s)){var u=l[s];"children"===s?"string"==typeof u?r.textContent!==u&&(e=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(e=["children",""+u]):S.hasOwnProperty(s)&&null!=u&&sn(n,s)}switch(a){case"input":ve(r),xe(r,l,!0);break;case"textarea":ve(r),Me(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===ln&&(e=je(a)),e===ln?"script"===a?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(a,{is:r.is}):(e=s.createElement(a),"select"===a&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,a),e[Sn]=t,e[Cn]=r,Fi(e,t),t.stateNode=e,s=an(a,r),a){case"iframe":case"object":case"embed":$t("load",e),u=r;break;case"video":case"audio":for(u=0;u<Ke.length;u++)$t(Ke[u],e);u=r;break;case"source":$t("error",e),u=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),u=r;break;case"form":$t("reset",e),$t("submit",e),u=r;break;case"details":$t("toggle",e),u=r;break;case"input":Ee(e,r),u=Te(e,r),$t("invalid",e),sn(n,"onChange");break;case"option":u=Ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=o({},r,{value:void 0}),$t("invalid",e),sn(n,"onChange");break;case"textarea":Be(e,r),u=Ie(e,r),$t("invalid",e),sn(n,"onChange");break;default:u=r}on(a,u);var c=u;for(l in c)if(c.hasOwnProperty(l)){var h=c[l];"style"===l?nn(e,h):"dangerouslySetInnerHTML"===l?null!=(h=h?h.__html:void 0)&&Ye(e,h):"children"===l?"string"==typeof h?("textarea"!==a||""!==h)&&Fe(e,h):"number"==typeof h&&Fe(e,""+h):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(S.hasOwnProperty(l)?null!=h&&sn(n,l):null!=h&&X(e,l,h,s))}switch(a){case"input":ve(e),xe(e,r,!1);break;case"textarea":ve(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+we(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ne(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=un)}gn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Wi(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));n=Ba(Ia.current),Ba(Aa.current),Pi(t)?(n=t.stateNode,r=t.memoizedProps,n[Sn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Sn]=t,t.stateNode=n)}return null;case 13:return so(ja),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Pi(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=a,a.nextEffect=l):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&ja.current)?Pl===vl&&(Pl=kl):(Pl!==vl&&Pl!==kl||(Pl=Tl),0!==Ol&&null!==Sl&&(Ms(Sl,xl),_s(Sl,Ol)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ma(),null;case 10:return ta(t),null;case 17:return mo(t.type)&&go(),null;case 19:if(so(ja),null===(r=t.memoizedState))return null;if(a=0!=(64&t.effectTag),null===(l=r.rendering)){if(a)qi(r,!1);else if(Pl!==vl||null!==e&&0!=(64&e.effectTag))for(l=t.child;null!==l;){if(null!==(e=Ra(l))){for(t.effectTag|=64,qi(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)l=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=l,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,l=e.dependencies,a.dependencies=null===l?null:{expirationTime:l.expirationTime,firstContext:l.firstContext,responders:l.responders}),r=r.sibling;return uo(ja,1&ja.current|2),t.child}l=l.sibling}}else{if(!a)if(null!==(e=Ra(l))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),qi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fo()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,qi(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Fo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fo(),n.sibling=null,t=ja.current,uo(ja,a?1&t|2:1&t),n):null}throw Error(i(156,t.tag))}function Xi(e){switch(e.tag){case 1:mo(e.type)&&go();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ma(),so(fo),so(ho),0!=(64&(t=e.effectTag)))throw Error(i(285));return e.effectTag=-4097&t|64,e;case 5:return Da(e),null;case 13:return so(ja),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return so(ja),null;case 4:return Ma(),null;case 10:return ta(e),null;default:return null}}function Ji(e,t){return{value:e,source:t,stack:ge(t)}}Fi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Li=function(e,t,n,r,a){var i=e.memoizedProps;if(i!==r){var l,s,u=t.stateNode;switch(Ba(Aa.current),e=null,n){case"input":i=Te(u,i),r=Te(u,r),e=[];break;case"option":i=Ae(u,i),r=Ae(u,r),e=[];break;case"select":i=o({},i,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":i=Ie(u,i),r=Ie(u,r),e=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(u.onclick=un)}for(l in on(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l)for(s in u=i[l])u.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(S.hasOwnProperty(l)?e||(e=[]):(e=e||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(e||(e=[]),e.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(l,c)):"children"===l?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(S.hasOwnProperty(l)?(null!=c&&sn(a,l),e||u===c||(e=[])):(e=e||[]).push(l,c))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Wi=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Zi="function"==typeof WeakSet?WeakSet:Set;function el(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function tl(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ws(e,t)}else t.current=null}function nl(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:qo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(i(163))}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ol(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:qo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&jt(n)))));case 19:case 17:case 20:case 21:return}throw Error(i(163))}function il(e,t,n){switch("function"==typeof Ts&&Ts(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ho(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(e){ws(o,e)}}e=e.next}while(e!==r)}))}break;case 1:tl(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ws(e,t)}}(t,n);break;case 5:tl(t);break;case 4:cl(e,t,n)}}function ll(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ll(t)}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ul(e){e:{for(var t=e.return;null!==t;){if(sl(t)){var n=t;break e}t=t.return}throw Error(i(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.effectTag&&(Fe(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||sl(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,a=5===o||6===o;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=un));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,a=5===o||6===o;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cl(e,t,n){for(var r,o,a=t,l=!1;;){if(!l){l=a.return;e:for(;;){if(null===l)throw Error(i(160));switch(r=l.stateNode,l.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}l=l.return}l=!0}if(5===a.tag||6===a.tag){e:for(var s=e,u=a,c=n,h=u;;)if(il(s,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break e;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}o?(s=r,u=a.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,o=!0,a.child.return=a,a=a.child;continue}}else if(il(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(l=!1)}a.sibling.return=a.return,a=a.sibling}}function hl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rl(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Cn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),an(e,o),t=an(e,r),o=0;o<a.length;o+=2){var l=a[o],s=a[o+1];"style"===l?nn(n,s):"dangerouslySetInnerHTML"===l?Ye(n,s):"children"===l?Fe(n,s):X(n,l,s,t)}switch(e){case"input":Ce(n,r);break;case"textarea":Oe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ne(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ne(n,!!r.multiple,r.defaultValue,!0):Ne(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,jt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,_l=Fo()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,a.style.display=tn("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void dl(t);case 19:return void dl(t);case 17:return}throw Error(i(163))}function dl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zi),t.forEach((function(t){var r=vs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var fl="function"==typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=sa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jl||(jl=!0,Rl=r),el(e,t)},n}function yl(e,t,n){(n=sa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return el(e,t),r(o)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===zl?zl=new Set([this]):zl.add(this),el(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ml,gl=Math.ceil,wl=K.ReactCurrentDispatcher,bl=K.ReactCurrentOwner,vl=0,kl=3,Tl=4,El=0,Sl=null,Cl=null,xl=0,Pl=vl,Al=null,Nl=1073741823,Il=1073741823,Bl=null,Ol=0,Ml=!1,_l=0,Dl=null,jl=!1,Rl=null,zl=null,Yl=!1,Fl=null,Ll=90,Wl=null,Hl=0,Ul=null,Vl=0;function Ql(){return 0!=(48&El)?1073741821-(Fo()/10|0):0!==Vl?Vl:Vl=1073741821-(Fo()/10|0)}function $l(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Lo();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&El))return xl;if(null!==n)e=Go(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Go(e,150,100);break;case 97:case 96:e=Go(e,5e3,250);break;case 95:e=2;break;default:throw Error(i(326))}return null!==Sl&&e===xl&&--e,e}function Gl(e,t){if(50<Hl)throw Hl=0,Ul=null,Error(i(185));if(null!==(e=ql(e,t))){var n=Lo();1073741823===t?0!=(8&El)&&0==(48&El)?Zl(e):(Xl(e),0===El&&Qo()):Xl(e),0==(4&El)||98!==n&&99!==n||(null===Wl?Wl=new Map([[e,t]]):(void 0===(n=Wl.get(e))||n>t)&&Wl.set(e,t))}}function ql(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(Sl===o&&(is(t),Pl===Tl&&Ms(o,xl)),_s(o,t)),o}function Kl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Os(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Xl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Vo(Zl.bind(null,e));else{var t=Kl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Ql();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Mo&&So(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Vo(Zl.bind(null,e)):Uo(r,Jl.bind(null,e),{timeout:10*(1073741821-t)-Fo()}),e.callbackNode=t}}}function Jl(e,t){if(Vl=0,t)return Ds(e,t=Ql()),Xl(e),null;var n=Kl(e);if(0!==n){if(t=e.callbackNode,0!=(48&El))throw Error(i(327));if(ys(),e===Sl&&n===xl||ns(e,n),null!==Cl){var r=El;El|=16;for(var o=os();;)try{ss();break}catch(t){rs(e,t)}if(ea(),El=r,wl.current=o,1===Pl)throw t=Al,ns(e,n),Ms(e,n),Xl(e),t;if(null===Cl)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Pl,Sl=null,r){case vl:case 1:throw Error(i(345));case 2:Ds(e,2<n?2:n);break;case kl:if(Ms(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hs(o)),1073741823===Nl&&10<(o=_l+500-Fo())){if(Ml){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,ns(e,n);break}}if(0!==(a=Kl(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(ds.bind(null,e),o);break}ds(e);break;case Tl:if(Ms(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hs(o)),Ml&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,ns(e,n);break}if(0!==(o=Kl(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Il?r=10*(1073741821-Il)-Fo():1073741823===Nl?r=0:(r=10*(1073741821-Nl)-5e3,0>(r=(o=Fo())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gl(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(ds.bind(null,e),r);break}ds(e);break;case 5:if(1073741823!==Nl&&null!==Bl){a=Nl;var l=Bl;if(0>=(r=0|l.busyMinDurationMs)?r=0:(o=0|l.busyDelayMs,r=(a=Fo()-(10*(1073741821-a)-(0|l.timeoutMs||5e3)))<=o?0:o+r-a),10<r){Ms(e,n),e.timeoutHandle=bn(ds.bind(null,e),r);break}}ds(e);break;default:throw Error(i(329))}if(Xl(e),e.callbackNode===t)return Jl.bind(null,e)}}return null}function Zl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&El))throw Error(i(327));if(ys(),e===Sl&&t===xl||ns(e,t),null!==Cl){var n=El;El|=16;for(var r=os();;)try{ls();break}catch(t){rs(e,t)}if(ea(),El=n,wl.current=r,1===Pl)throw n=Al,ns(e,t),Ms(e,t),Xl(e),n;if(null!==Cl)throw Error(i(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Sl=null,ds(e),Xl(e)}return null}function es(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&Qo()}}function ts(e,t){var n=El;El&=-2,El|=8;try{return e(t)}finally{0===(El=n)&&Qo()}}function ns(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,vn(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&go();break;case 3:Ma(),so(fo),so(ho);break;case 5:Da(r);break;case 4:Ma();break;case 13:case 19:so(ja);break;case 10:ta(r)}n=n.return}Sl=e,Cl=xs(e.current,null),xl=t,Pl=vl,Al=null,Il=Nl=1073741823,Bl=null,Ol=0,Ml=!1}function rs(e,t){for(;;){try{if(ea(),Ya.current=mi,Va)for(var n=Wa.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(La=0,Ua=Ha=Wa=null,Va=!1,null===Cl||null===Cl.return)return Pl=1,Al=t,Cl=null;e:{var o=e,a=Cl.return,i=Cl,l=t;if(t=xl,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var s=l;if(0==(2&i.mode)){var u=i.alternate;u?(i.updateQueue=u.updateQueue,i.memoizedState=u.memoizedState,i.expirationTime=u.expirationTime):(i.updateQueue=null,i.memoizedState=null)}var c=0!=(1&ja.current),h=a;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(s),h.updateQueue=m}else y.add(s);if(0==(2&h.mode)){if(h.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var g=sa(1073741823,null);g.tag=2,ua(i,g)}i.expirationTime=1073741823;break e}l=void 0,i=t;var w=o.pingCache;if(null===w?(w=o.pingCache=new fl,l=new Set,w.set(s,l)):void 0===(l=w.get(s))&&(l=new Set,w.set(s,l)),!l.has(i)){l.add(i);var b=bs.bind(null,o,s,i);s.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);l=Error((me(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(i))}5!==Pl&&(Pl=2),l=Ji(l,i),h=a;do{switch(h.tag){case 3:s=l,h.effectTag|=4096,h.expirationTime=t,ca(h,pl(h,s,t));break e;case 1:s=l;var v=h.type,k=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof v.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===zl||!zl.has(k)))){h.effectTag|=4096,h.expirationTime=t,ca(h,yl(h,s,t));break e}}h=h.return}while(null!==h)}Cl=cs(Cl)}catch(e){t=e;continue}break}}function os(){var e=wl.current;return wl.current=mi,null===e?mi:e}function as(e,t){e<Nl&&2<e&&(Nl=e),null!==t&&e<Il&&2<e&&(Il=e,Bl=t)}function is(e){e>Ol&&(Ol=e)}function ls(){for(;null!==Cl;)Cl=us(Cl)}function ss(){for(;null!==Cl&&!_o();)Cl=us(Cl)}function us(e){var t=ml(e.alternate,e,xl);return e.memoizedProps=e.pendingProps,null===t&&(t=cs(e)),bl.current=null,t}function cs(e){Cl=e;do{var t=Cl.alternate;if(e=Cl.return,0==(2048&Cl.effectTag)){if(t=Ki(t,Cl,xl),1===xl||1!==Cl.childExpirationTime){for(var n=0,r=Cl.child;null!==r;){var o=r.expirationTime,a=r.childExpirationTime;o>n&&(n=o),a>n&&(n=a),r=r.sibling}Cl.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Cl.firstEffect),null!==Cl.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Cl.firstEffect),e.lastEffect=Cl.lastEffect),1<Cl.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Cl:e.firstEffect=Cl,e.lastEffect=Cl))}else{if(null!==(t=Xi(Cl)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Cl.sibling))return t;Cl=e}while(null!==Cl);return Pl===vl&&(Pl=5),null}function hs(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function ds(e){var t=Lo();return Ho(99,fs.bind(null,e,t)),null}function fs(e,t){do{ys()}while(null!==Fl);if(0!=(48&El))throw Error(i(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=hs(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Sl&&(Cl=Sl=null,xl=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var a=El;El|=32,bl.current=null,yn=Qt;var l=fn();if(pn(l)){if("selectionStart"in l)var s={start:l.selectionStart,end:l.selectionEnd};else e:{var u=(s=(s=l.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(u&&0!==u.rangeCount){s=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{s.nodeType,h.nodeType}catch(e){s=null;break e}var d=0,f=-1,p=-1,y=0,m=0,g=l,w=null;t:for(;;){for(var b;g!==s||0!==c&&3!==g.nodeType||(f=d+c),g!==h||0!==u&&3!==g.nodeType||(p=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)w=g,g=b;for(;;){if(g===l)break t;if(w===s&&++y===c&&(f=d),w===h&&++m===u&&(p=d),null!==(b=g.nextSibling))break;w=(g=w).parentNode}g=b}s=-1===f||-1===p?null:{start:f,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;mn={activeElementDetached:null,focusedElem:l,selectionRange:s},Qt=!1,Dl=o;do{try{ps()}catch(e){if(null===Dl)throw Error(i(330));ws(Dl,e),Dl=Dl.nextEffect}}while(null!==Dl);Dl=o;do{try{for(l=e,s=t;null!==Dl;){var v=Dl.effectTag;if(16&v&&Fe(Dl.stateNode,""),128&v){var k=Dl.alternate;if(null!==k){var T=k.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(1038&v){case 2:ul(Dl),Dl.effectTag&=-3;break;case 6:ul(Dl),Dl.effectTag&=-3,hl(Dl.alternate,Dl);break;case 1024:Dl.effectTag&=-1025;break;case 1028:Dl.effectTag&=-1025,hl(Dl.alternate,Dl);break;case 4:hl(Dl.alternate,Dl);break;case 8:cl(l,c=Dl,s),ll(c)}Dl=Dl.nextEffect}}catch(e){if(null===Dl)throw Error(i(330));ws(Dl,e),Dl=Dl.nextEffect}}while(null!==Dl);if(T=mn,k=fn(),v=T.focusedElem,s=T.selectionRange,k!==v&&v&&v.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(v.ownerDocument.documentElement,v)){null!==s&&pn(v)&&(k=s.start,void 0===(T=s.end)&&(T=k),"selectionStart"in v?(v.selectionStart=k,v.selectionEnd=Math.min(T,v.value.length)):(T=(k=v.ownerDocument||document)&&k.defaultView||window).getSelection&&(T=T.getSelection(),c=v.textContent.length,l=Math.min(s.start,c),s=void 0===s.end?l:Math.min(s.end,c),!T.extend&&l>s&&(c=s,s=l,l=c),c=dn(v,l),h=dn(v,s),c&&h&&(1!==T.rangeCount||T.anchorNode!==c.node||T.anchorOffset!==c.offset||T.focusNode!==h.node||T.focusOffset!==h.offset)&&((k=k.createRange()).setStart(c.node,c.offset),T.removeAllRanges(),l>s?(T.addRange(k),T.extend(h.node,h.offset)):(k.setEnd(h.node,h.offset),T.addRange(k))))),k=[];for(T=v;T=T.parentNode;)1===T.nodeType&&k.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<k.length;v++)(T=k[v]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Qt=!!yn,mn=yn=null,e.current=n,Dl=o;do{try{for(v=e;null!==Dl;){var E=Dl.effectTag;if(36&E&&al(v,Dl.alternate,Dl),128&E){k=void 0;var S=Dl.ref;if(null!==S){var C=Dl.stateNode;switch(Dl.tag){case 5:k=C;break;default:k=C}"function"==typeof S?S(k):S.current=k}}Dl=Dl.nextEffect}}catch(e){if(null===Dl)throw Error(i(330));ws(Dl,e),Dl=Dl.nextEffect}}while(null!==Dl);Dl=null,Do(),El=a}else e.current=n;if(Yl)Yl=!1,Fl=e,Ll=t;else for(Dl=o;null!==Dl;)t=Dl.nextEffect,Dl.nextEffect=null,Dl=t;if(0===(t=e.firstPendingTime)&&(zl=null),1073741823===t?e===Ul?Hl++:(Hl=0,Ul=e):Hl=0,"function"==typeof ks&&ks(n.stateNode,r),Xl(e),jl)throw jl=!1,e=Rl,Rl=null,e;return 0!=(8&El)||Qo(),null}function ps(){for(;null!==Dl;){var e=Dl.effectTag;0!=(256&e)&&nl(Dl.alternate,Dl),0==(512&e)||Yl||(Yl=!0,Uo(97,(function(){return ys(),null}))),Dl=Dl.nextEffect}}function ys(){if(90!==Ll){var e=97<Ll?97:Ll;return Ll=90,Ho(e,ms)}}function ms(){if(null===Fl)return!1;var e=Fl;if(Fl=null,0!=(48&El))throw Error(i(331));var t=El;for(El|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rl(5,n),ol(5,n)}}catch(t){if(null===e)throw Error(i(330));ws(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return El=t,Qo(),!0}function gs(e,t,n){ua(e,t=pl(e,t=Ji(n,t),1073741823)),null!==(e=ql(e,1073741823))&&Xl(e)}function ws(e,t){if(3===e.tag)gs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===zl||!zl.has(r))){ua(n,e=yl(n,e=Ji(t,e),1073741823)),null!==(n=ql(n,1073741823))&&Xl(n);break}}n=n.return}}function bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Sl===e&&xl===n?Pl===Tl||Pl===kl&&1073741823===Nl&&Fo()-_l<500?ns(e,xl):Ml=!0:Os(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Xl(e)))}function vs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=$l(t=Ql(),e,null)),null!==(e=ql(e,t))&&Xl(e)}ml=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||fo.current)Ii=!0;else{if(r<n){switch(Ii=!1,t.tag){case 3:Yi(t),Ai();break;case 5:if(_a(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mo(t.type)&&vo(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,o=t.type._context,uo(Ko,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ui(e,t,n):(uo(ja,1&ja.current),null!==(t=Gi(e,t,n))?t.sibling:null);uo(ja,1&ja.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return $i(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),uo(ja,ja.current),!r)return null}return Gi(e,t,n)}Ii=!1}}else Ii=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=yo(t,ho.current),ra(t,n),o=Ga(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mo(r)){var a=!0;vo(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ia(t);var l=r.getDerivedStateFromProps;"function"==typeof l&&ya(t,r,l,e),o.updater=ma,t.stateNode=o,o._reactInternalFiber=t,va(t,r,e,n),t=zi(null,t,r,!0,a,n)}else t.tag=0,Bi(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,a=t.tag=function(e){if("function"==typeof e)return Cs(e)?1:0;if(null!=e){if((e=e.$$typeof)===se)return 11;if(e===he)return 14}return 2}(o),e=qo(o,e),a){case 0:t=ji(null,t,o,e,n);break e;case 1:t=Ri(null,t,o,e,n);break e;case 11:t=Oi(null,t,o,e,n);break e;case 14:t=Mi(null,t,o,qo(o.type,e),r,n);break e}throw Error(i(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,ji(e,t,r,o=t.elementType===r?o:qo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ri(e,t,r,o=t.elementType===r?o:qo(r,o),n);case 3:if(Yi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,la(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===o)Ai(),t=Gi(e,t,n);else{if((o=t.stateNode.hydrate)&&(ki=kn(t.stateNode.containerInfo.firstChild),vi=t,o=Ti=!0),o)for(n=xa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Bi(e,t,r,n),Ai();t=t.child}return t;case 5:return _a(t),null===e&&Ci(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,l=o.children,wn(r,o)?l=null:null!==a&&wn(r,a)&&(t.effectTag|=16),Di(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Bi(e,t,l,n),t=t.child),t;case 6:return null===e&&Ci(t),null;case 13:return Ui(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):Bi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Oi(e,t,r,o=t.elementType===r?o:qo(r,o),n);case 7:return Bi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,l=t.memoizedProps,a=o.value;var s=t.type._context;if(uo(Ko,s._currentValue),s._currentValue=a,null!==l)if(s=l.value,0===(a=Rr(s,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(l.children===o.children&&!fo.current){t=Gi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){l=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===s.tag&&((c=sa(n,null)).tag=2,ua(s,c)),s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n),na(s.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else l=10===s.tag&&s.type===t.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}Bi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,ra(t,n),r=r(o=oa(o,a.unstable_observedBits)),t.effectTag|=1,Bi(e,t,r,n),t.child;case 14:return a=qo(o=t.type,t.pendingProps),Mi(e,t,o,a=qo(o.type,a),r,n);case 15:return _i(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mo(r)?(e=!0,vo(t)):e=!1,ra(t,n),wa(t,r,o),va(t,r,o,n),zi(null,t,r,!0,e,n);case 19:return $i(e,t,n)}throw Error(i(156,t.tag))};var ks=null,Ts=null;function Es(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ss(e,t,n,r){return new Es(e,t,n,r)}function Cs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xs(e,t){var n=e.alternate;return null===n?((n=Ss(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ps(e,t,n,r,o,a){var l=2;if(r=e,"function"==typeof e)Cs(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case ne:return As(n.children,o,a,t);case le:l=8,o|=7;break;case re:l=8,o|=1;break;case oe:return(e=Ss(12,n,t,8|o)).elementType=oe,e.type=oe,e.expirationTime=a,e;case ue:return(e=Ss(13,n,t,o)).type=ue,e.elementType=ue,e.expirationTime=a,e;case ce:return(e=Ss(19,n,t,o)).elementType=ce,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ae:l=10;break e;case ie:l=9;break e;case se:l=11;break e;case he:l=14;break e;case de:l=16,r=null;break e;case fe:l=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ss(l,n,t,o)).elementType=e,t.type=r,t.expirationTime=a,t}function As(e,t,n,r){return(e=Ss(7,e,r,t)).expirationTime=n,e}function Ns(e,t,n){return(e=Ss(6,e,null,t)).expirationTime=n,e}function Is(e,t,n){return(t=Ss(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bs(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Os(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ms(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function _s(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ds(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function js(e,t,n,r){var o=t.current,a=Ql(),l=fa.suspense;a=$l(a,o,l);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(i(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mo(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(i(171))}if(1===n.tag){var u=n.type;if(mo(u)){n=bo(n,u,s);break e}}n=s}else n=co;return null===t.context?t.context=n:t.pendingContext=n,(t=sa(a,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ua(o,t),Gl(o,a),a}function Rs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function zs(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Ys(e,t){zs(e,t),(e=e.alternate)&&zs(e,t)}function Fs(e,t,n){var r=new Bs(e,t,n=null!=n&&!0===n.hydrate),o=Ss(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,ia(o),e[xn]=r.current,n&&0!==t&&function(e,t){var n=Je(t);xt.forEach((function(e){pt(e,t,n)})),Pt.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Ls(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ws(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a._internalRoot;if("function"==typeof o){var l=o;o=function(){var e=Rs(i);l.call(e)}}js(t,i,e,o)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Fs(e,0,t?{hydrate:!0}:void 0)}(n,r),i=a._internalRoot,"function"==typeof o){var s=o;o=function(){var e=Rs(i);s.call(e)}}ts((function(){js(t,i,e,o)}))}return Rs(i)}function Hs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Us(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ls(t))throw Error(i(200));return Hs(e,t,null,n)}Fs.prototype.render=function(e){js(e,this._internalRoot,null,null)},Fs.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;js(null,e,null,(function(){t[xn]=null}))},yt=function(e){if(13===e.tag){var t=Go(Ql(),150,100);Gl(e,t),Ys(e,t)}},mt=function(e){13===e.tag&&(Gl(e,3),Ys(e,3))},gt=function(e){if(13===e.tag){var t=Ql();Gl(e,t=$l(t,e,null)),Ys(e,t)}},A=function(e,t,n){switch(t){case"input":if(Ce(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=In(r);if(!o)throw Error(i(90));ke(r),Ce(r,o)}}}break;case"textarea":Oe(e,n);break;case"select":null!=(t=n.value)&&Ne(e,!!n.multiple,t,!1)}},_=es,D=function(e,t,n,r,o){var a=El;El|=4;try{return Ho(98,e.bind(null,t,n,r,o))}finally{0===(El=a)&&Qo()}},j=function(){0==(49&El)&&(function(){if(null!==Wl){var e=Wl;Wl=null,e.forEach((function(e,t){Ds(t,e),Xl(t)})),Qo()}}(),ys())},R=function(e,t){var n=El;El|=2;try{return e(t)}finally{0===(El=n)&&Qo()}};var Vs,Qs,$s={Events:[An,Nn,In,x,E,Rn,function(e){ot(e,jn)},O,M,Xt,lt,ys,{current:!1}]};Qs=(Vs={findFiberByHostInstance:Pn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);ks=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Ts=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(o({},Vs,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Qs?Qs(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$s,t.createPortal=Us,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&El))throw Error(i(187));var n=El;El|=1;try{return Ho(99,e.bind(null,t))}finally{El=n,Qo()}},t.hydrate=function(e,t,n){if(!Ls(t))throw Error(i(200));return Ws(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ls(t))throw Error(i(200));return Ws(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ls(e))throw Error(i(40));return!!e._reactRootContainer&&(ts((function(){Ws(null,null,e,!1,(function(){e._reactRootContainer=null,e[xn]=null}))})),!0)},t.unstable_batchedUpdates=es,t.unstable_createPortal=function(e,t){return Us(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ls(n))throw Error(i(200));if(null==e||void 0===e._reactInternalFiber)throw Error(i(38));return Ws(e,t,n,!1,r)},t.version="16.13.1"},72:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(69);t.default=[new a.a({title:"Building Ships",disableWarnings:!0,startMap:{b1A:null,b1B:null,b1C:null,b2A:null,b2B:null,b2C:null,b3A:null,b3B:null,b3C:{at:5,owner:null},g1A:{at:3,owner:"you"},g1B:{at:5,owner:"enemy"},g1C:null,g2A:null,g2B:{at:4,owner:null},g2C:{at:2,owner:null},g3A:null,g3B:null,g3C:{at:1,owner:"you"},r1A:{at:4,owner:"you"},r1B:null,r1C:null,r2A:null,r2B:null,r2C:{at:3,owner:null},r3A:null,r3B:{at:2,owner:"enemy"},r3C:{at:1,owner:null},y1A:null,y1B:null,y1C:null,y2A:null,y2B:null,y2C:null,y3A:null,y3B:null,y3C:null},steps:[{startMessages:["Welcome to the Homeworlds Tutorial! Here I will walk you through the fundamentals of gameplay. Please note you will have to learn by *doing*, so pay attention.","Homeworlds is typically played on a tabletop with colorful pyramids which represent stars (when vertical) or starships (when lying down, pointing away from the owner).","On this web version, ships are triangles and stars are squares. The ships next to the stars are considered at that star system.","The goal of the game is to destroy or conquer your opponent's homeworld. You do this by building and changing starships, discovering new systems, and eventually capturing or blowing up opponent's stuff.",'Let\'s begin with building. Click one of the ships pointing upwards, and then click the "Build" button to create a new ship.',"If you get stuck, there is Show Intro (which displays these messages again) and Show Hint in the upper right."],hint:["Your ships are the three triangles on the bottom half of the screen.","If you have four, you have already built; just click End Turn."],checkAction:function(e,t){if("sacrifice"===e.type)return[!1,"I'll get to sacrificing later. For now let's concentrate on building ships."];const n=e.newPiece[0].toUpperCase(),r="R"===n?"red":"green";return[!0,["Good job. Did you notice how it automatically gave you a small "+r+" ship at the same star?","You may have also noticed the "+n+"1 thing on the button. The "+n+" part is for "+r+", and the 1 is for small (they come in 3 sizes). Similarly, B2 would be a medium blue, and so on.","Anyway, your turn is over now. Click the purple End Turn button on the lower right to continue. (You can also Reset Turn, if you want to change your mind.)"]]},checkEndTurn:function(e){return e.actions.number>0?[!1,"Don't end your turn yet! Build a new ship first!"]:[!0,"All right. Now it's your opponent's turn. They are probably going to build something too...",{type:"build",newPiece:e.getPieceInStashByType("r1"),system:2}]}},{startMessages:["They built a small red ship of their own!\nThis is actually interesting...","If you look at the Stash on the right, you will see that there are three of each piece total (some are on the board).","This actually means that there is a limited supply of pieces. Homeworlds may be a war, but it's a very *economic* war, complete with supply and investments and exchanges. (We'll get to most of that later.)","Anyway, when you build, there are two main rules:\n(1) You can only build a ship of the *same color* as a ship you already have at that star, and\n(2) You can only build the smallest *available* piece (i.e. in the Bank) of any given color.",'It\'s important to note that you do NOT "grow" a ship. You only get bigger ones by building when the Bank is out of smaller pieces of that color.',"Given this, your challenge is to build a medium ship (two pips)!\n(Again, hint button is on the top left)"],hint:["Look at the Bank. Which color does not have smalls available?","Remember you have to click an existing ship of yours first to build."],checkAction:function(e,t){return"build"!==e.type?[!1,"I'll get to sacrificing in a later module."]:"2"!==e.newPiece[1]?[!1,"Unfortunately, building that color only gives you a small ship, because there is one in the Bank. See if you can build a medium (size-2) ship."]:[!0,"Remember to end your turn every time..."]},checkEndTurn:function(e){return e.actions.number>0?[!1,"Don't end your turn yet!"]:[!0,"Good job. Let's see now what your opponent does...",{type:"trade",oldPiece:"g1B",newPiece:"y1C"}]}}],endMessages:["What was that? Their ship just changed color!",'That\'s a subject for another module. Click the green "Next Module" button at the top to continue!']}),new a.a({title:"Trading Ships",disableWarnings:!0,startMap:{b1A:{at:6,owner:"you"},b1B:{at:3,owner:null},b1C:{at:2,owner:null},b2A:null,b2B:null,b2C:{at:6,owner:"you"},b3A:null,b3B:{at:5,owner:null},b3C:{at:1,owner:null},g1A:{at:3,owner:"you"},g1B:{at:6,owner:null},g1C:{at:5,owner:"enemy"},g2A:{at:9,owner:"you"},g2B:{at:1,owner:"you"},g2C:{at:2,owner:null},g3A:{at:9,owner:"you"},g3B:{at:4,owner:null},g3C:{at:1,owner:"you"},r1A:{at:2,owner:"enemy"},r1B:{at:9,owner:null},r1C:{at:8,owner:"enemy"},r2A:null,r2B:null,r2C:{at:1,owner:null},r3A:null,r3B:null,r3C:null,y1A:{at:4,owner:"enemy"},y1B:{at:2,owner:"enemy"},y1C:{at:5,owner:"enemy"},y2A:{at:5,owner:"enemy"},y2B:{at:4,owner:"enemy"},y2C:{at:7,owner:"enemy"},y3A:{at:8,owner:null},y3B:{at:7,owner:null},y3C:{at:2,owner:"enemy"}},steps:[{startMessages:["Building ships is important, but you can only build colors you already have. The next color, blue, allows you to change colors of your ships.","When you trade, you first click on one of your ships, then click a piece from the Stash *of the same size*.","Also, you have to have access to blue technology there. Blue technology can come either from one of your ships (even if it isn't the one being traded) or from a star.","Your goal this turn is to obtain a red ship."],hint:["Remember you have to have blue at the system AND there has to be a matching red in the Bank.","You can only trade equal sizes (small for small, medium for medium, or large for large)!"],checkAction:function(e,t){return"build"===e.type?[!1,"That's ok, but this lesson is about trading. Can you trade to get a red ship?"]:"sacrifice"===e.type?[!1,"We will cover sacrifice actions later."]:"trade"===e.type?"r"===e.newPiece[0]?[!0,"Great job! Remember to end your turn!"]:[!1,"Good trade. However, I would like you to see if you can get a RED ship."]:[!1,"Not entirely sure what you did, but it doesn't look like a trade to me."]},checkEndTurn:function(e){return e.actions.number>0?[!1,"Don't end your turn yet!"]:[!0,"Good work. Once again, let's see what your opponent does...",{type:"trade",oldPiece:"y2A",newPiece:e.getPieceInStashByType("r2")}]}},{startMessages:["It looks like they also traded for a red.","Now that you have one red ship, you could build more.","But notice something else. All the yellow pieces were in play, but now that your opponent traded out their yellow, you can get your own.","Your challenge this turn: Obtain a yellow, but keep your red ship."],objective:"Obtain a yellow ship (and also keep your red one)",hint:["What size is the yellow in the Bank?","Remember you can do a trade at any system with something blue there!"],checkAction:function(e,t){return"trade"===e.type?"y"===e.newPiece[0]?"r"===e.oldPiece[0]?[!1,"That's great, except you just traded away your only red ship!\nCan you get a yellow WITHOUT losing your red?"]:[!0,"Good. From now on you won't always see a message after every single action. Just end your turn."]:[!1,"Hmmm. Looks like you did a successful trade, but can you please specifically trade for a *yellow* ship?"]:"sacrifice"===e.type?[!1,"Patience! Sacrifices are a little tricky and I'll cover them later."]:[!1,"That doesn't get you a yellow ship."]},checkEndTurn:function(e){return e.actions.number>0?[!1,"Don't end your turn yet!"]:[!0]}}],endMessages:["It's great if you have ships of all four colors, because then you can in theory build any color (although other factors may get in the way).","Now, what's all the fuss about yellow and red ships? Well, each color is an ability. For that, it's time for a new module...","Oh, did you notice two of the star systems had 2 stars instead of 1? Those are your homeworld and your opponent's homeworld! We'll see more about that in a bit."]}),new a.a({title:"Movement",disableWarnings:!0,startMap:{b1A:null,b1B:null,b1C:{at:1,owner:null},b2A:null,b2B:null,b2C:null,b3A:null,b3B:null,b3C:{at:2,owner:null},g1A:null,g1B:null,g1C:{at:2,owner:null},g2A:null,g2B:null,g2C:null,g3A:null,g3B:{at:3,owner:null},g3C:{at:1,owner:"you"},r1A:null,r1B:null,r1C:null,r2A:null,r2B:null,r2C:{at:1,owner:null},r3A:null,r3B:null,r3C:{at:2,owner:"enemy"},y1A:{at:2,owner:"enemy"},y1B:{at:2,owner:"enemy"},y1C:{at:3,owner:"you"},y2A:{at:3,owner:"you"},y2B:{at:2,owner:"enemy"},y2C:null,y3A:null,y3B:null,y3C:null},steps:[{startMessages:["Ah, yellow. Probably the trickiest color in the game.","Yellow is the color of movement. Now, the stars have sizes just like ships (they actually use the same pool of pieces). The rule on movement is...","You can move between two star systems if they are *different sizes*.","Now, this website tries to smartly arrange the stars to help you visualize the connections. However, this is *only* a visual aid, and really all that matters is the star's size.",'Anyway, to do a move, click the ship, then click the "move" button, then click the system you want to move to.',"How about we get started with a simple move: Move one of your yellow ships to your homeworld."],bannedActions:{discover:"Moving and discovering are slightly different. Let's stick to movement for now."},hint:["Your homeworld is the system that has 2 stars and one large green ship."],checkAction:function(e,t){return"move"===e.type?[!0]:[!1,"That's all well and good, but we're doing movement now."]},checkEndTurn:function(e){return e.actions.number>0?[!1,"Whoops. Don't end your turn quite yet..."]:[!0,"Opponent moves...",{type:"discover",oldPiece:"y1B",newPiece:"g2A"}]}},{startMessages:["Oh neat, a new star just appeared on the map!","In fact, you can discover a star any time you have movement power. In the physical game, you just add a piece to the board, then move there.",'Here, to discover a system, you first click the piece you want to move, then click the "Discover a system..." button in the popup.',"Then you click a piece in the Bank. Just like with normal movement, it must be a different size to the star you started in. (The STAR, not the ship.)","Now, your task is to discover a new system. You can use either yellow, but keep the large green home. (That's a good habit for the real game...)"],hint:["First click the ship, then click a star in the Bank."],checkAction:function(e,t){return"discover"===e.type?[!0,"Good job. End your turn and I'll show you something interesting..."]:[!1,"That's legal, but I'd like you to discover a new star system instead."]},checkEndTurn:function(e){let t=null;for(let n in e.map){const r=e.map[n];r&&null===r.owner&&5===r.at&&(t=n)}if(t){t[1];return[!0,null,{type:"move",oldPiece:"2"===t[1]?"y1A":"y1B",system:5}]}return[!1,"You forgot to discover a system, or else there is a bug. Please try again."]}}],endMessages:["Did you notice how the star system disappeared when it was abandoned? Stars get added to the map when a ship lands there, and go away when the last ship leaves.","Yeah, this game is a little weird. But keep that in mind, as you can use it to your advantage. (Similarly, you can discover a piece to stop your opponent from using it as a ship.)","Anyway, it looks like your opponent paid you a visit. That doesn't usually happen in Homeworlds, because of the last color ability..."]}),new a.a({title:"It's the Economy, Captain!",disableWarnings:!0,startMap:{b1A:{at:3,owner:"enemy"},b1B:null,b1C:{at:5,owner:"enemy"},b2A:{at:4,owner:"you"},b2B:{at:6,owner:null},b2C:{at:2,owner:null},b3A:null,b3B:{at:7,owner:null},b3C:{at:1,owner:null},g1A:{at:5,owner:"enemy"},g1B:{at:6,owner:"you"},g1C:{at:7,owner:"enemy"},g2A:{at:4,owner:null},g2B:{at:6,owner:"you"},g2C:null,g3A:{at:3,owner:null},g3B:{at:2,owner:"enemy"},g3C:{at:1,owner:"you"},r1A:null,r1B:{at:4,owner:"you"},r1C:{at:1,owner:null},r2A:null,r2B:null,r2C:null,r3A:null,r3B:null,r3C:null,y1A:null,y1B:{at:1,owner:"you"},y1C:{at:2,owner:null},y2A:null,y2B:null,y2C:null,y3A:null,y3B:null,y3C:{at:5,owner:null}},steps:[{startMessages:["Before we get to the last ability, I want to emphasize something I glossed over a while back.","You see, Homeworlds is a war, but it's a very *economic* war.","This is partially because of the limited supply of pieces in the Bank.","A large part of success is about manipulating the available pieces to obtain more and bigger ships than your opponent.","Here's a simple example of that. Build the small blue, and let's see what happens. (Or maybe you can predict...)"],objective:"Build the last small blue OR pass your turn",hint:['If you\'re wondering how to "pass your turn": Just click End Turn before doing anything.',"This is usually disabled in tutorials but is perfectly legal and you can do it in this one."],checkAction:function(e,t){return"build"!==e.type?[!1,"Not falling for it, eh? Or did you just mis-click? If you want, you can build the medium green instead and the opponent will take the small blue."]:[!0]},checkEndTurn:function(e){return null===e.map.b1B?[!0,"You know... let's do this from the other perspective. I'll have the opponent build the blue...",{type:"build",newPiece:"b1B",system:5}]:[!0,["So there's no more small blues in the Bank.","The smallest blue piece is now a large...","...and it's your opponent's turn..."],{type:"build",newPiece:"b3A",system:3}]},nextStep:function(e){return e.map.b3A?2:1}},{startMessages:["See, there are no more small (or medium) blues in the Bank.","So what does that mean about your build options?"],objective:"Build a large blue",hint:"OK, you're just obsessively clicking Hint. If you're curious, you can read the source code on GitHub (link on the homepage). The files are in the /scripts/tutorials folder.",checkAction:function(e,t){return"build"!==e.type||"b3A"!==e.newPiece?[!1,"Come on, there's a large blue waiting for you!"]:[!0]},checkEndTurn:function(e){if(e.actions.number>0)return[!1,"This time, let's actually get that medium green."];e.map.r1A;return[!0,["Great. You're now in the lead on large ships!","You now would have a solid advantage. The enemy still has only their initial large ship."],{type:"trade",oldPiece:"b1B",newPiece:"r1A"}]}}],endMessages:["Yep! One side got a small ship, the other got a large. That's just one example of how tricky the economy can be in Homeworlds.","It's important to watch the Bank. If you're taking the last ship of a size, that often opens up the next size to your opponent.",'The extreme example is being "frozen out" of a color, unable to build OR trade for it, because your enemy has all the pieces.',"So as you play, keep thinking: am I giving the opponent more opportunities to get bigger ships than me?","Now, exactly why are bigger ships more important? Because of the last color, red..."]}),new a.a({title:"Offense and Defense",disableWarnings:!0,startMap:{b1A:{at:5,owner:"enemy"},b1B:{at:4,owner:"you"},b1C:{at:2,owner:null},b2A:null,b2B:{at:5,owner:"enemy"},b2C:{at:1,owner:null},b3A:null,b3B:null,b3C:null,g1A:null,g1B:null,g1C:null,g2A:{at:1,owner:"you"},g2B:{at:5,owner:null},g2C:{at:3,owner:null},g3A:{at:4,owner:null},g3B:{at:2,owner:null},g3C:{at:1,owner:"you"},r1A:{at:5,owner:"enemy"},r1B:{at:4,owner:"you"},r1C:{at:1,owner:null},r2A:{at:4,owner:"enemy"},r2B:null,r2C:null,r3A:null,r3B:{at:7,owner:"you"},r3C:{at:2,owner:"enemy"},y1A:null,y1B:{at:2,owner:"enemy"},y1C:{at:1,owner:"you"},y2A:{at:5,owner:"enemy"},y2B:{at:4,owner:"you"},y2C:{at:3,owner:"enemy"},y3A:null,y3B:null,y3C:{at:7,owner:null}},steps:[{startMessages:["OK, time for the last ability.","Red is the color of defense. Its ability is probably the least commonly used one in the game, but it's just as important as the other three.","Red gives you the ability to capture (i.e. steal) enemy ships. But it only works at short range (i.e. in the same system).","To use red, you click on an enemy ship. If you have an equal or larger ship, and you have red technology, you can capture it, and it becomes yours.","Note that on this website I've arranged the ships and stars so yours are on the right side, almost like cars on a highway (in the US). You may notice things move around unexpectedly; this is because of changing ownership.","Here, your opponent has moved a ship to one of your colonies. It seems they forgot that their turn is now over, so YOU get to strike first! Steal that invader ship!","(Note: Capturing takes control of an enemy ship, so it becomes yours. You do NOT destroy ships, at least not with Red.)"],hint:["There's a lot more going on here, so don't panic. What ship doesn't belong? That's the one you want to capture.",'Click on it, then click "Capture this ship".'],checkAction:function(e,t){return"steal"===e.type?[!0,["There you go. That'll teach them to be smarter about invasions..."]]:[!1,"That's fine but we have an invader! You need to capture them before they steal your ships!"]},checkEndTurn:function(e){return e.actions.number>0?[!1,"Don't end your turn yet, you haven't done anything!"]:[!0,null,{type:"build",newPiece:"r2C",system:2}]}},{startMessages:["That raises an important point I want to emphasize.","You could steal the medium red because (1) you had a medium AND (2) you had red technology (from your small red).","Your ships can borrow each other's technology to perform actions, IF they are at the same system. (Similarly, your blue could have moved, or your yellow could have changed color, if you wanted.)","You can also use the star's technology. You *cannot*, however, borrow technology from enemy ships. Either you capture the ship itself (and you can use it next turn) or you can't use it.","Usually you haven't had to worry about this because of how I set up the map, but that's important to note for the Real Thing.","Anyway...","Let's do some raiding, the smart way. If you move a ship in that is BIGGER than all the enemy ships, they can't fight back!","See those four ships at the one system? Let's invade with a stronger ship..."],hint:["You have five ships that can move to two different enemy colonies. But only one of your ships is stronger than the enemy fleet..."],checkAction:function(e,t){return"move"===e.type?3===e.system?[!1,"If you move there, the Y2 (i.e. medium yellow) can just move away. Move somewhere with more ships."]:5!==e.system?[!1,"Where are you going? Invade the enemy now!"]:"r3B"!==e.oldPiece?[!1,"That ship isn't strong enough! They'll just capture you right away..."]:[!0,"Resistance Is Futile!\n\n...right?"]:[!1,"That doesn't look like a move to me..."]},checkEndTurn:function(e){return e.actions.number>0?[!1,"You haven't done anything yet."]:[!0,"It's their turn now, but they can't fight you. They can only move out one ship... right?",{type:"sacrifice",oldPiece:"y2A"},{type:"discover",oldPiece:"b2B",newPiece:"g1A"},{type:"move",oldPiece:"r1A",system:8}]}},{startMessages:["What in the galaxy was THAT?","That's something for a new module... BUT, I wanted to give you the chance to capture that last ship first, if you want to.","Do *whatever you want* (or nothing) this turn, then we'll start the next module after you End Turn."],hint:["Did you sacrifice and get stuck?","There's always Reset Turn, or you can End Turn and learn about sacrifices next module."],checkAction:function(e,t){return"catastrophe"===e.type?[!0,"I see you've found out about the catastrophe action..."]:[!0]},checkEndTurn:function(){return[!0]}}],endMessages:["Now let's learn about what they just did to you...","It's that pesky sacrifice action that I've been stopping you from doing all this time."]}),new a.a({title:"Sometimes You Have to Make Sacrifices",disableWarnings:!0,startMap:{b1A:null,b1B:null,b1C:{at:6,owner:null},b2A:null,b2B:null,b2C:{at:1,owner:null},b3A:null,b3B:{at:5,owner:null},b3C:{at:2,owner:null},g1A:null,g1B:null,g1C:{at:4,owner:null},g2A:null,g2B:null,g2C:null,g3A:{at:3,owner:null},g3B:{at:2,owner:"enemy"},g3C:{at:1,owner:"you"},r1A:null,r1B:null,r1C:{at:1,owner:null},r2A:null,r2B:null,r2C:{at:2,owner:null},r3A:null,r3B:null,r3C:null,y1A:{at:5,owner:"you"},y1B:{at:4,owner:"enemy"},y1C:{at:3,owner:"you"},y2A:{at:6,owner:"enemy"},y2B:{at:1,owner:"you"},y2C:{at:2,owner:"enemy"},y3A:null,y3B:null,y3C:null},steps:[{startMessages:["So normally, you can only do one action per turn, and you need access to a color to do any action (e.g. to build, you must have a green ship there or be at a green star).","But there's another option: You can sacrifice any one of your ships. You then get several actions of the ship's type, with the number depending on the size, that you can use ANYWHERE you still have a ship.","What? OK: If you sacrifice a Small, you get 1 action; a Medium, 2; and a Large, 3.\n(This is the explanation for those pips you've seen on the ships.)","The type of actions correspond to the ship's color: sacrificing a yellow gives you move/discover actions, a green gives builds, etc.","And you can do those actions ANYWHERE you still have a ship, even if you otherwise don't have technology there.\nIt's like a long-range signal booster that gives you technology, but is so powerful it destroys the ship.","Here's a rather common opening situation. Goal: Build all three large yellows at once!"],hint:["Normally, you can only build one ship per turn. How do you build 3 things in one turn?","(There's also the Show Intro button if you want to refresh your memory.)"],checkAction:function(e,t){if("sacrifice"===e.type)return"g3C"===e.oldPiece?[!0,"Good. Now you can do 3 build actions: 3 because it was a large, and build actions because it was green."]:[!1,"Nice try, but sacrificing a yellow gives you *move* actions, and you want to build."];if("build"===e.type){if(t.actions.sacrifice){const n=t.getAllPiecesAtSystem(1).length,r=t.getAllPiecesAtSystem(3).length;return console.log(n,r),4===n&&1===e.system?[!0,"Just saying, you don't *have* to build all your new ships where you sacrificed. You have build power EVERYWHERE you have a ship. That's the power of sacrifices!"]:3===r&&3===e.system?[!0,"Just saying, you don't *have* to build at green systems when you sacrifice. The sacrifice gives you build power EVERYWHERE you have a ship!"]:[!0]}return[!1,"If you just build now, your turn will be over. Sacrifice something first!"]}},checkEndTurn:function(e){if(e.actions.number>0)return[!1,"While you don't *have* to use all your actions (sometimes you can't), here you should."];let t=[1,3,5];for(let n=0;n<t.length;n++){const r=t[n],o=e.getAllPiecesAtSystem(r).length-(1===r?2:1);if(4===o)return[!0,["I see you've built all your ships at the same system. You don't have to do that; in fact, you could have built one ship in every system if you wanted.","Anyway, though, you now have 3 large ships! What could *possibly* go wrong?!"],{type:"catastrophe",system:r}];if(3===o){return[!0,"Yay! You now have 3 large ships, and there's no more yellow for your opponent to build! What could *possibly* go wrong?"].concat(1===r?[{type:"sacrifice",oldPiece:"y2A"},{type:"move",oldPiece:"y1B",system:5},{type:"move",oldPiece:"y1B",system:1},{type:"catastrophe",system:1,color:"y"}]:[{type:"move",oldPiece:"y1B",system:r},{type:"catastrophe",system:r,color:"y"}])}}return[!0,["That's actually what I would have done in the game, building one piece at each system.","You now have 3 large ships to the opponent's 1, and they can't build any more yellow! What could *possibly* go wrong?"],{type:"sacrifice",oldPiece:"y2C"},{type:"move",oldPiece:"y2A",system:3},{type:"move",oldPiece:"y1B",system:3},{type:"catastrophe",system:3,color:"y"}]}}],endMessages:["What? How did they destroy your ships?","Something about concentrations of color, apparently... well, time for the next module!","By the way, I just wanted to clarify something before we go: You can only sacrifice one piece per turn.","So even if you sacrifice, you might get multiple moves (if yellow) OR multiple captures (if red), but you do NOT get both in the same turn.","All right, let's learn about catastrophes! I promise, we're done with these surprises."]}),new a.a({title:"Catastrophe!",disableWarnings:!0,startMap:{b1A:null,b1B:{at:3,owner:"you"},b1C:{at:4,owner:null},b2A:{at:6,owner:"enemy"},b2B:{at:9,owner:"you"},b2C:{at:2,owner:null},b3A:null,b3B:{at:6,owner:null},b3C:{at:1,owner:null},g1A:{at:4,owner:"you"},g1B:{at:6,owner:"enemy"},g1C:{at:3,owner:null},g2A:null,g2B:{at:4,owner:"you"},g2C:null,g3A:null,g3B:{at:2,owner:"enemy"},g3C:{at:1,owner:"you"},r1A:{at:1,owner:"you"},r1B:{at:6,owner:"enemy"},r1C:{at:3,owner:"you"},r2A:{at:2,owner:"enemy"},r2B:{at:3,owner:"you"},r2C:null,r3A:{at:3,owner:"enemy"},r3B:null,r3C:{at:6,owner:"enemy"},y1A:{at:9,owner:null},y1B:{at:2,owner:"enemy"},y1C:{at:2,owner:null},y2A:null,y2B:{at:4,owner:"you"},y2C:{at:1,owner:null},y3A:null,y3B:null,y3C:null},steps:[{startMessages:["So what I didn't tell you about these four technologies was that they are somewhat unstable.","In fact, if you ever have 4 pieces (ships or stars) of the *same color* in the same system, that is called an Overpopulation.","And, on your turn, if there is an Overpopulated system, you have the option to invoke a Catastrophe, destroying all pieces of the Overpopulated color!","Let's see this in action. Your opponent just invaded one of your colonies, and you can't fight back. But there are 3 red pieces there, 1 shy of a catastrophe..."],hint:["You need 4 pieces of the same color (here, red) to make a catastrophe.","There are 3 reds at one of your systems. You'll need to figure out how to add a 4th."],checkAction:function(e,t){return"sacrifice"===e.type?"y"===e.oldPiece[0]?[!1,"Trying to escape, eh? Interesting strategy, but here you can actually destroy the invader if you can create a catastrophe."]:"b1B"===e.oldPiece?[!1,"Were you hoping to trade that small blue (and clicked sacrifice by mistake)? If so, good thinking, but I don't see a small red in the Bank."]:"b2B"===e.oldPiece?[!1,["Oh neat! I assume you're trying to trade out your red (in your homeworld), then trade the small blue for it?","That's really clever. Unfortunately, I can't let you do that here because you need those blue ships for the next turn...","But there *is* another clever way to make a nice profit off of this turn."]]:"g3C"===e.oldPiece||"g2B"===e.oldPiece?[!0]:[!1,"Hmmm... I'm not sure what sacrificing *that* piece would do. Perhaps you mis-clicked?"]:"build"===e.type?"r"===e.newPiece[0]&&3===e.system?[!0,"Now that there are 4 reds, you still have to manually declare the catastrophe. Click any one of the four red ships, then click the catastrophe button (it's the last one)."]:[!0]:"trade"===e.type?[!1,"I'm not sure how that helps you... Try again."]:"move"!==e.type?[!0]:"r1A"===e.oldPiece?3===e.system?[!0,["I'll let that go, but notice that when you do the catastrophe you will be totally out of red.","Now that there are 4 reds, you still have to manually declare the catastrophe. Click any one of the four red ships, then click the catastrophe button (it's the last one)."]]:[!0,"Whoops, looks like you clicked the wrong system by mistake. Why don't you try out that Reset Turn button? That is designed to save you from these mistakes in a real game."]:"catastrophe"===e.type?[!0,"There. Notice how your blue is still there? In a ship catastrophe, only the involved ships are destroyed.\n(The star would, of course, disappear if those were the ONLY ships there and the star became abandoned.)"]:void 0},checkEndTurn:function(e){if(e.map.r3A)return e.isSystemOverpopulated("r",3)?[!1,"Oh right. You actually have to invoke the catastrophe for it to happen. Click one of the overpopulated red ships, then click the catastrophe button."]:e.actions.number>0?[!1,"Hmmm... It looks like you aren't quite finished. Don't end your turn just yet. (Perhaps you meant to reset?)"]:[!1,"Hmmm... It looks like you had a plan, but it didn't work out. That's why we have a Reset Turn button!"];{const t={type:"build",newPiece:e.getPieceInStashByType("g2"),system:6};if(e.map.r3B)return[!0,"Great! You even managed to build the large before declaring the catastrophe!",t];if(e.map.r1A)return[!0,"Good. Now, there was a better way to do it; if you want to find it, come back to this tutorial.\n\nLet's move on.",t]}}},{startMessages:["So you took out their large ship, but you lost three of your own.","But other times you can devastate your opponent for a relatively small price. Your opponent foolishly built another green at that one blue star.","You see, sometimes the star itself is part of the overpopulation. In that case, the ENTIRE system is destroyed and returned to the Bank.","Let's totally destroy their system!"],objective:"Cause a blue catastrophe",hint:["How many blue pieces are in that system (#6)? You need there to be 4."],checkAction:function(e,t){if("sacrifice"===e.type){if("y2B"===e.oldPiece)return[!0];if("g1A"===e.oldPiece)return[!1,"Did you mis-click? You sacrificed the small green."];return[!1,"Sacrificing that ship would get you "+{b:"trade",g:"build",r:"capture"}[e.oldPiece[0]]+" actions. But how is that going to move ships into an enemy system?"]}return"move"===e.type?t.actions.sacrifice?"r"===e.oldPiece[0]?[!1,"Are you trying to cause a red catastrophe? You don't have enough moves for that. Let's blow up the star itself!"]:"b"!==e.oldPiece[0]?[!1,"What color is the star? Move *that* color in..."]:6!==e.system?[!1,"Where are you going? Let's move directly into the blue star system!"]:[!0]:[!1,"...and then your turn would end with only 3 blues in the system."]:"catastrophe"===e.type?[!0,["There you go! BOOM, the whole thing explodes!","They only have 3 ships left! At the beginning you were well behind, with only 1 large ship against 3. Now you've set them way back."]]:[!1,"Hmmm... that doesn't look like an invasion to me."]},checkEndTurn:function(e){return e.map.b3B?e.actions.number>0?[!1,"Whoops, looks like you tried to end your turn. You aren't done yet!"]:[!1,"It looks like you had a plan that didn't work. That's what the Reset Turn is for!"]:[!0]}}],endMessages:["Well done. You've destroyed six enemy ships, two large.","You've actually gotten through all the basic actions. There's one last thing left: setting up your homeworld."]}),new a.a({title:"Your Homeworld",disableWarnings:!0,startMap:{b1A:null,b1B:null,b1C:null,b2A:null,b2B:null,b2C:null,b3A:null,b3B:null,b3C:null,g1A:null,g1B:null,g1C:null,g2A:null,g2B:null,g2C:null,g3A:null,g3B:null,g3C:null,r1A:null,r1B:null,r1C:null,r2A:null,r2B:null,r2C:null,r3A:null,r3B:null,r3C:null,y1A:null,y1B:null,y1C:null,y2A:null,y2B:null,y2C:null,y3A:null,y3B:null,y3C:null},steps:[{startMessages:["I've saved the first decision of the game for last, because it's the most important.","At the *very beginning* of the game, you need to pick two stars and one ship for your homeworld.","There are a lot of factors involved. Which sizes do you pick for your stars? Which colors?","So instead of a big lecture right at the start, I'll let you set up any homeworld you want. Click your two stars first, then your ship.","After you pick it, I'll evaluate it. You can even deliberately pick bad homeworlds to see what happens."],hint:["Just experiment. Pick something random, reset turn, pick something else, etc until you are comfortable."],checkAction:function(e,t){let n=["Your choice of abilities:"],r=["Your choice of ship:"],o=["Your choice of stars:"];const a=[e.star1,e.star2,e.ship],i={b:0,g:0,r:0,y:0};let l=null;for(let e=0;e<a.length;e++){const t=a[e][0];i[t]++,i[t]>=2&&(l=t)}l&&n.push("You have picked a duplicate color. This means you have fewer abilities, so the opening will probably be a bit harder."),0===i.g?(n.push("You didn't pick any green! Now you won't be able to build any new ships."),0===i.b&&n.push("You don't have blue either! Now you can't even trade for green. Fortunately this is ")):0===i.b?(n.push("You didn't pick any blue! You'll have a harder time getting the other three colors."),0===i.y&&n.push("...and no yellow either! You won't be able to trade for yellow, so you can't escape your homeworld. You are stuck!")):i.y>0?n.push("You picked G+B+Y. Good, solid opening. You can move out of your homeworld quickly. You will have to eventually get red, and probably keep one at your homeworld."):n.push("You picked G+B+R. Good, solid opening. You don't have yellow, but you can trade for it after you build a ship. Your homeworld has built-in defenses against enemy invasions."),"3"!==e.ship[1]&&r.push("You didn't take a large ship. If you don't have a large, and your opponent gets their own large in, you won't be able to fight back!"),"g"===e.ship[0]?r.push("You picked a green ship. This is what most of the experienced players do. If the situation is right you may be able to sacrifice it later to build several mediums and larges. Of course, be careful of catastrophes."):"y"===e.ship[0]?r.push("You picked a yellow ship. This is okay, and you often need a large yellow to sacrifice to wipe out a star. But if it's the only large at your homeworld, using it this way becomes risky."):"r"===e.ship[0]?r.push("You picked a red ship. Having a large red is good (see the Advanced Direct Assault module for why), but it's less effective if it is the only large at your homeworld."):r.push("You picked a blue ship. Blue is good because you can trade for anything even after you leave your homeworld. However, most players use a blue star instead.");let s=[];for(let t=1;t<=3;t++)e.star1[1]!==String(t)&&e.star2[1]!==String(t)&&s.push(t);if(1===s.length){const e=s[0];1===e?o.push("You picked a Medium+Large homeworld, also known as a Fortress. This is because Small pieces tend to get used up quickly as ships, so later on it is harder to invade your homeworld."):2===e?o.push("You picked a Small+Large homeworld, also known as a Goldilocks. In the opening there are usually more Mediums available than any other size, so you can often get 2 or even 3 green colonies."):3===e?o.push("You picked a Small+Medium homeworld, also known as a Banker. This makes it slightly easier to pull off the Investment strategy that I cover later on. Some people say this is the strongest homeworld."):o.push("...something weird happened. This is almost certainly a bug.")}else{const e=s.map(e=>["","Small","Medium","Large"][e]);o.push("You picked a homeworld with two same-size stars. This is called a Gemini. Now, you are connected to both "+e.join(" and ")+" systems. This can make it easier for your opponent to invade you.")}return[!0,[n.join("\n\n"),r.join("\n\n"),o.join("\n\n"),"Note that all of this depends on your play style. Apart from the clearly losing setups, any of these can win games, and you should experiment to find which is best for you.","All right. End Turn to finish this module or Reset Turn to try another setup!"]]},checkEndTurn:function(){return[!0]}}],endMessages:["Oh wait. I forgot to cover how to *win*!","If, at the end of any turn (yours or your opponent's), you have no ships at your homeworld, you LOSE.","That's important. You can never abandon your homeworld!","(Well, actually, you CAN abandon it mid-turn, like with a yellow sacrifice, as long as you get back home before your turn ends.)",o.a.createElement("span",{},"Well, I think that about covers everything you need to know. I do have some more information on this site itself ",o.a.createElement("a",{href:"/howThisWorks"},"here"),", and Looney Labs has the official rules for Homeworlds ",o.a.createElement("a",{href:"https://www.looneylabs.com/sites/default/files/pyramid_rules/Rules.Homeworlds.pdf"},"here"),"."),"The next module is designed in case you have found the movement slightly confusing. It lets you move all around many different stars.\n\nFurther modules will cover more advanced strategies. Good luck!"]}),new a.a({title:"Star Connections Playground",startMap:{b1A:{at:4,owner:"enemy"},b1B:{at:5,owner:"enemy"},b1C:{at:5,owner:"enemy"},b2A:{at:1,owner:"you"},b2B:{at:8,owner:"enemy"},b2C:{at:6,owner:"enemy"},b3A:{at:2,owner:"enemy"},b3B:{at:7,owner:"enemy"},b3C:{at:3,owner:"enemy"},g1A:null,g1B:null,g1C:null,g2A:{at:3,owner:null},g2B:null,g2C:null,g3A:null,g3B:{at:2,owner:"enemy"},g3C:null,r1A:{at:4,owner:"enemy"},r1B:{at:6,owner:"enemy"},r1C:{at:2,owner:null},r2A:{at:1,owner:"you"},r2B:{at:8,owner:"enemy"},r2C:{at:7,owner:"enemy"},r3A:null,r3B:null,r3C:{at:2,owner:"enemy"},y1A:{at:5,owner:null},y1B:{at:4,owner:null},y1C:{at:3,owner:null},y2A:{at:1,owner:null},y2B:{at:6,owner:null},y2C:{at:7,owner:null},y3A:{at:1,owner:null},y3B:{at:2,owner:null},y3C:{at:8,owner:null}},bannedActions:["trade","sacrifice","catastrophe"],steps:[{startMessages:["In Homeworlds, two star systems are connected if and only if they do not share any size stars.","Examples: A Small is connected to a Medium, but not another Small. A Small+Large two-star system is only connected to Mediums, and not to Medium+Large or Small+Medium homeworlds.","If you find that a bit confusing, here is a scenario where you can move between lots of star systems.","The enemy will NOT act in this scenario (but you still have to end your turn), and I have disabled the trade, sacrifice, and catastrophe actions.\n\nCan you capture all the ships?"],hint:"Just move your red ship out.",checkAction:function(e){return"move"!==e.type?[!1,"I'd prefer you stick to movement and capturing for now."]:"r2A"!==e.oldPiece?[!1,"I'd prefer you move the red ship, so you can directly capture other ships."]:[!0,"All right. Now, capture all the ships (but end your turn first)!"]},checkEndTurn:function(){return[!0,["You might have noticed the star map is arranged neatly to show the system connections.","However, *always* remember that the actual position of stars on the map is entirely irrevelant and is only done as a visual aid.","The sizes are all that matters.\nCapture those ships!","(Oh, and the Show Intro won't work anymore. Use Show Hint from now on if you need a refresher.)"]]}},{id:"loop",startMessages:[],hint:["Systems are connected if they have NO sizes in common. It may take you two or three moves to get where you want to go...","You need a large ship to attack other larges. Where can you build one?"],checkAction:function(e){return"trade"===e.type||"catastrophe"===e.type?[!1,"I've turned off those actions for now. "]:[!0]},checkEndTurn:function(e){const t=e.getPiecesAtHomeworlds();return!t.you||t.you.ships.length<=0?[!1,"No! NEVER abandon your homeworld! You will lose!"]:[!0]},nextStep:function(e){return"end"===e.phase?1:0}}],endMessages:["Well done! I'll admit system number 3, the green/yellow binary, may have been a bit confusing. (It tripped me up when I was testing this!)","This is part of why it is recommended to pick a different size combination than your opponent in homeworld setup.","If you both had picked, say, small+large homeworlds, the stars would "]})]},73:function(e,t,n){"use strict";n.r(t);n(0);var r=n(69);t.default=[new r.a({title:"Basic Opening Strategy",disableWarnings:!0,startMap:{b1A:null,b1B:{at:1,owner:null},b1C:null,b2A:null,b2B:null,b2C:null,b3A:null,b3B:null,b3C:{at:2,owner:null},g1A:null,g1B:null,g1C:null,g2A:null,g2B:null,g2C:null,g3A:null,g3B:{at:2,owner:"enemy"},g3C:{at:1,owner:"you"},r1A:null,r1B:{at:2,owner:null},r1C:null,r2A:null,r2B:null,r2C:null,r3A:null,r3B:null,r3C:null,y1A:null,y1B:null,y1C:null,y2A:{at:1,owner:null},y2B:null,y2C:null,y3A:null,y3B:null,y3C:null},steps:[{disableWarnings:!0,startMessages:["So now come the strategy guide modules. Here you'll find some tips on how to play better.","The first question is, what do you do once you have made your homeworld? Well, it depends in part on what you picked.","I've given you a B1+Y2 homeworld against an R1+B3, but a lot of these ideas apply to any setup situation.","Your second turn will almost always be to build a second ship. (You can't capture anything, moving abandons your homeworld, and trading just wastes a turn because you could have picked the new ship to begin with.)"],objective:"Build a second ship.",hint:"If you've forgotten how the build action works: you click the existing ship of the same color, then click the Build button.",checkAction:function(e,t){return"build"===e.type?[!0]:"sacrifice"===e.type?[!1,"That actually won't work. You would not have any ships left, so you could no longer build."]:"discover"===e.type?[!1,"That would abandon your homeworld! You can't do that or you will lose!"]:"trade"===e.type?[!1,"You don't want to trade quite yet! Then you would not have any green to build new ships!"]:[!1,"I'm not sure what you did..."]},checkEndTurn:function(e){return e.actions.number>0?[!1,"You haven't done anything yet!"]:[!0,"That's the easiest turn of the game. Next turn you'll have to make a decision...",{type:"build",newPiece:e.getPieceInStashByType("g1"),system:2}]}},{startMessages:["If you remember the tutorial about the economy, you probably know not to build another green.","So what else is there?","Well, you have movement, so you can discover a new system.","Alternatively, you can trade for some other color.","I'll let you pick which one you want to try. (This tutorial has 3 different branches; you can come back and try a different route.)"],hint:["Having trouble discovering? Look at your homeworld. Which size do you NOT have? That's the size you can move to."],checkAction:function(e,t){if("build"===e.type)return[!1,"You're building the last small green... which lets your opponent get a medium."];if("trade"===e.type)return"3"===e.oldPiece[1]?[!1,"Trading your large is possible, but it's usually better to trade small ships."]:[!0,"Diversifying right away, eh?"];if("discover"===e.type)return"b"!==e.newPiece[0]?[!1,["I see you're being adventurous!","But remember you only have the color powers at your system, which means you can't trade at this new system.","I would recommend discovering a BLUE system."]]:[!0,"I see you're being adventurous!"];if("sacrifice"===e.type){if("1"===e.oldPiece[1])return[!1,["Sacrificing a small green... would get you 1 build. That can be useful (it lets you build where you don't have green). But does that help you *here*?"]];if("3"===e.oldPiece[1])return[!1,["Trying to sacrifice the large, eh?","I'm afraid that's a bit premature. Even if you did 3 builds, they would have to all be in your homeworld.","Which would mean you would have 4 greens in one system. 4 isn't a good number, if you catch my drift..."]]}return[!1,"I'm not entirely sure what you just did..."]},checkEndTurn:function(e){if(e.actions.length>0)return[!1,"You haven't done anything yet..."];let t=null;for(let n=0;n<3;n++){const r="g1"+String.fromCharCode(n+65);if(e.map[r]&&"enemy"===e.map[r].owner){t=r;break}}if(4===e.nextSystemID)return[!0,"Now, although you have yellow (movement ability), your opponent does not, so they're going to trade for it now.",{type:"trade",oldPiece:t,newPiece:e.getPieceInStashByType("y1")}];{const n=e.getAllPiecesAtSystem(1);let r=null;for(let e=0;e<n.length;e++){const t=n[e];"1"===t.serial[1]&&"you"===t.owner&&(r=t.serial)}return"r"===r[0]?[!0,["Ah, you've armed yourself with a weapon!","It's generally good to get a weapon when your opponent gets one. Since reds are in short supply, they are going to trade now."],{type:"trade",oldPiece:t,newPiece:e.getPieceInStashByType("r1")}]:[!0,"Good. Let's see what they do...",{type:"trade",oldPiece:t,newPiece:e.getPieceInStashByType(r[0]+"1")}]}},nextStep:function(e){if(4===e.nextSystemID)return"discovery-branch";{const t=e.getAllPiecesAtSystem(1);let n=null;for(let e=0;e<t.length;e++)"1"===t[e].serial[1]&&"you"===t[e].owner&&(n=t[e].serial);return"y"===n[0]?"trade-yellow-branch":"trade-medium-branch"}}},{id:"discovery-branch",startMessages:["Now you have a second colony!","However, you only have one ship at each of your systems. Let's get more ships!"],hint:"Just build a new ship. Either system is fine.",checkAction:function(e,t){return"trade"===e.type?[!1,"Hmmm... If you trade that, you'll no longer have green at that system, making it difficult to build more ships. It's better to trade when you have TWO ships."]:"move"===e.type||"discover"===e.type?[!1,"No! Don't abandon your homeworld!"]:"sacrifice"===e.type?[!1,"Sacrificing now doesn't really help. The small only gets you 1 build and losing your large now abandons your homeworld."]:[!0]},checkEndTurn:function(e){return e.actions.number>0?[!1,"You haven't done anything yet! Don't end your turn yet."]:[!0,"Good. Three ships already! You're on a roll!",{type:"build",newPiece:e.getPieceInStashByType("y1"),system:2}]}},{startMessages:["So there's one small yellow left in the bank.","Let's get it while we can!","But make sure you still have green tech at that system."],hint:"It's usually good to trade where you have two ships.",checkAction:function(e,t){if("trade"===e.type){if("y"!==e.newPiece[0])return[!1,"That's fine, but let's trade for the small YELLOW ship. It's in short supply!"];if("1"!==e.newPiece[1])return[!1,["That's fine, but it's usually better to trade your small pieces, if you can.","Besides, in this case you don't want your large to be blue or yellow, because that is a catastrophe danger (it only takes 2 more of that color).","(If you trade the small you can just move it out, but it's not a good idea to leave your homeworld without a large.)"]];{const n=t.map[e.oldPiece],r=t.getAllPiecesAtSystem(n);let o=!1;for(let t=0;t<r.length;t++)if("you"===r[t].owner&&r[t].serial!==e.oldPiece){o=!0;break}return o?[!0]:[!1,"You could trade that, but then you would no longer have green at that system.\nIt's better to trade when you already have 2 ships there."]}}},checkEndTurn:function(e){return e.actions.number>0?[!1,"You haven't done anything yet! Don't end your turn now."]:[!0,"Now medium yellows are available. This game is heating up fast!",{type:"build",newPiece:"y2B",system:2}]}},{startMessages:["Your opponent just got a medium yellow. Let's get one of our own!"],hint:"Come on... you don't need a hint...",checkAction:function(e,t){return"build"===e.type?[!0]:"sacrifice"===e.type?"3"===e.oldPiece[1]?[!1,"That's still a *bit* premature, but I like that you're thinking of that sacrifice."]:[!1,"Sacrificing a small *is* useful when you don't have power to do an action somewhere. But right now, that doesn't really apply."]:[!1,"There's no real need to "+e.type+" anything right now. Let's get a medium-size ship!"]},checkEndTurn:function(e){return e.actions.number>0?[!1,"You haven't done anything yet, so don't waste your turn!"]:[!0,"Look, larges are available... but your opponent can't build more without a catastrophe. What will they do instead?",{type:"trade",oldPiece:"y2B",newPiece:"r2C"}]}},{startMessages:["Your opponent just obtained a red ship.","(Notice how they *traded* a medium yellow into a medium red. Sometimes you can bypass the smalls this way.)","Right now you are totally defenseless if they were to attack (i.e. send ships into your colonies).","It may take a few turns for them to reach you, but it's generally better to be prepared.","Let's get a red ship of our own."],hint:"In this case you probably want to trade one of the yellows.",checkAction:function(e,t){return"trade"===e.type?"r"===e.newPiece[0]?"y"===e.oldPiece[0]?[!0]:[!1,["You probably don't want to trade your green away.","That would mean you have to waste a move trading for green later."]]:[!1,"Right now it would be better to trade for a red piece, as a deterrent against invasions."]:[!1,["There's no pressing need to trade right now, but you don't want to put it off TOO long.","It's better to be safe and trade now, and besides, you get to build more red next turn!"]]},checkEndTurn:function(e){return e.actions.number>0?[!1,"You haven't done anything yet... don't end your turn yet!"]:[!0,["There you go!","The red power is a useful deterrent. Now your opponent won't invade you because you would just sacrifice your red and capture their ship!","Anyway, the next goal would be to expand your fleet more, maybe discover another system, maybe get some blue ships...",""],{type:"discover",oldPiece:"r2C",newPiece:"g2B"}]},nextStep:function(){return 999}},{id:"trade-yellow-branch",startMessages:["I see you have a yellow ship.","It may look redundant, but it's actually good to have yellow ships, particularly mediums and larges, so you can sacrifice for several moves at once.","It looks like your opponent also traded for yellow.","You probably don't want to grab the last yellow (can you think why?). What other options do you have?"]}],endMessages:["I'm sorry to cut this off here, but you have to play the real game for more!","This module actually has four different branches (three for the colors you can trade for, plus one if you discover a system right away).","The important thing to keep in mind is to always watch the Bank!","The next tutorial covers another opening trick, but after that, you'll learn how to actually set up for victory!"]}),new r.a({title:"Opening Tricks: The Freeze-Out",startMap:{b1A:null,b1B:null,b1C:null,b2A:null,b2B:null,b2C:{at:2,owner:null},b3A:null,b3B:null,b3C:{at:1,owner:null},g1A:null,g1B:null,g1C:null,g2A:null,g2B:null,g2C:null,g3A:null,g3B:{at:2,owner:"enemy"},g3C:{at:1,owner:"you"},r1A:null,r1B:{at:1,owner:null},r1C:null,r2A:null,r2B:null,r2C:null,r3A:null,r3B:null,r3C:null,y1A:null,y1B:null,y1C:{at:2,owner:null},y2A:null,y2B:null,y2C:null,y3A:null,y3B:null,y3C:null},steps:[{startMessages:["So do that."],hint:"Come on, you don't need a hint here.",objective:"Build a new ship",checkAction:function(e,t){return"build"===e.type?[!0]:[!1,"I suppose I should appreciate your curiosity. Please report any bugs you inevitably find."]},checkEndTurn:function(e){return e.actions.number>0?[!1]:[!0,"I think you know what the opponent is doing... (no, there are no surprises left)",{type:"build",newPiece:e.getPieceInStashByType("g",1),system:2}]}},{startMessages:["In this particular game, you don't have any yellow, so you can't move away.","But you do have blue technology in your star, so you can get yellow with a trade.","Let's trade our small green."],hint:"Error 404: Hint Not Found.",objective:"Get a yellow ship",checkAction:function(e,t){return"trade"===e.type?"g3"===e.oldPiece.substring(0,2)?[!1,"I don't suggest trading away your large unless you have to. But admittedly this is more because I have something set up that only happens if you trade the small."]:"y"!==e.newPiece[0]?[!1,"That's fine, except that right now you don't have the ability to leave your homeworld. How about trading for yellow?"]:[!0,""]:"build"===e.type?[!1,["Ah, you see, this is why Homeworlds is a game of economics.","There are 3 small greens on the board, which means your opponent can build a medium green now.","Why give them a material advantage so early?"]]:[!1,"Uhhh... did you mis-click? Try again."]},checkEndTurn:function(e){if(e.actions.number>0)return[!1];{let t="";const n="ABC";for(let r=0;r<n.length;r++){const o=e.map["g1"+n[r]];if(o&&2===o.at){t="g1"+n[r];break}}return[!0,"All right. I mean, if you want to trade the large green in your games, it's all yours. But this particular move leads to a weird outcome...",{type:"trade",oldPiece:t,newPiece:e.getPieceInStashByType("r1")}]}}},{startMessages:["Sorry for forcing the issue here, but...","There's only *one* small yellow left in the bank.","Which means if you build it, the enemy won't be able to trade for it!"],hint:"Just read the intro again.",objective:"Build the other yellow ship.",checkAction:function(e,t){if("build"!==e.type)return[!1,""]}}],endMessages:[]}),new r.a({title:"Direct Assault",subtitle:"Basic Paths to Victory, 1/3",startMap:{b1A:{at:1,owner:null},b1B:{at:4,owner:null},b1C:null,b2A:{at:5,owner:"you"},b2B:{at:2,owner:null},b2C:{at:3,owner:"enemy"},b3A:null,b3B:null,b3C:null,g1A:{at:1,owner:"you"},g1B:{at:3,owner:null},g1C:{at:2,owner:"enemy"},g2A:{at:1,owner:"you"},g2B:{at:2,owner:"enemy"},g2C:null,g3A:{at:5,owner:"you"},g3B:{at:5,owner:null},g3C:null,r1A:{at:5,owner:"you"},r1B:{at:3,owner:"enemy"},r1C:null,r2A:{at:1,owner:null},r2B:null,r2C:null,r3A:{at:4,owner:"you"},r3B:null,r3C:{at:2,owner:null},y1A:{at:2,owner:"enemy"},y1B:null,y1C:null,y2A:{at:4,owner:"you"},y2B:{at:3,owner:"enemy"},y2C:null,y3A:{at:1,owner:"you"},y3B:{at:5,owner:"enemy"},y3C:null},steps:[{startMessages:["So you may know that you lose the game if you ever have zero ships at your homeworld.","But maybe you're wondering how you actually go about pulling off a win? That's the subject of the next three modules.","There are three main paths to victory. Each one has its own requirements and defenses.","One way to win is to use the red (steal) ability to capture all your opponent's ships. Of course, you have to ensure they don't capture you first...","Here is an example. Can you invade the opponent's homeworld?"],hint:"There's a nice big ship you have right next to their homeworld...",checkAction:function(e,t){return console.log(e),"sacrifice"===e.type?[!1,"You don't need to sacrifice anything. A simple movement will do."]:"discover"===e.type?[!1,"You don't need to discover a *new* system, just invade their homeworld!"]:"move"!==e.type?[!1,"You need to move a ship to invade!"]:2!==e.system?[!1,"Let's try moving a ship directly into their homeworld."]:"r3A"!==e.oldPiece?[!1,"Almost there! A medium won't do, because your opponent has a medium as well and can just capture yours. But do you have something stronger?"]:[!0,"You got it! Remember to end your turn..."]},checkEndTurn:function(e){return[!0,"Great! Now, let's see what your opponent does...",{type:"discover",oldPiece:"b2C",newPiece:"g2C"}]}},{startMessages:["Fortunately for you, they don't have any large ships and can't attack you first!","Let's raid their homeworld! To capture a ship, click on the enemy's ship first."],hint:"All you need to do is capture one of their ships.",checkAction:function(e,t){return"steal"!==e.type?[!1,"You need to capture ships at the enemy's homeworld to win!"]:[!0,null]},checkEndTurn:function(e){return[!0,"One down, two to go... wait, what's this?!",{type:"build",newPiece:"g3C",system:2}]}},{title:"Problem... or not?",startMessages:["Looks like your opponent has built a large ship now! But it's your turn..."],hint:"The biggest obstacle should be dealt with first.",checkAction:function(e,t){if("sacrifice"===e.type){if("g"===e.oldPiece[0]||"y"===e.oldPiece[0])return[!0];if("r3A"===e.oldPiece[0])return[!1,"Trying to be efficient, eh?\nYou can't have your ship and sacrifice it too...\n\n(you can't capture the large green if you don't have a large anymore)"]}return"steal"===e.type?[!0]:[!1,"You need to capture ALL of the ships at the enemy's homeworld to win!"]},checkEndTurn:function(e){return null===e.map.g3C?[!0,"Clever! You could have just attacked the large green, but it's good to think creatively on things like this!"]:"you"===e.map.g3C.owner?[!0,"Good. As soon as they build anything, you just take it."]:void 0}}],endMessages:["Nice work. Keep in mind this only worked because your opponent did not have a large ship at their home.","If they had, they could have attacked you when you came in...","In the next two modules we will look at a few other ways to win. There's also a later module with some more advanced Direct Assaults."]}),new r.a({title:"Fleet Catastrophe",subtitle:"Basic Paths to Victory, 2/3",startMap:{b1A:null,b1B:{at:7,owner:null},b1C:{at:3,owner:null},b2A:null,b2B:{at:4,owner:"enemy"},b2C:{at:2,owner:null},b3A:null,b3B:null,b3C:{at:1,owner:null},g1A:{at:3,owner:"you"},g1B:{at:2,owner:"enemy"},g1C:{at:1,owner:"you"},g2A:{at:5,owner:"you"},g2B:{at:8,owner:null},g2C:{at:6,owner:null},g3A:{at:4,owner:null},g3B:{at:2,owner:"enemy"},g3C:{at:1,owner:"you"},r1A:{at:8,owner:"you"},r1B:{at:4,owner:"enemy"},r1C:{at:2,owner:null},r2A:null,r2B:{at:3,owner:"you"},r2C:{at:1,owner:null},r3A:null,r3B:null,r3C:null,y1A:{at:6,owner:"enemy"},y1B:{at:3,owner:"you"},y1C:null,y2A:{at:4,owner:"enemy"},y2B:{at:7,owner:"you"},y2C:{at:6,owner:"enemy"},y3A:{at:1,owner:"you"},y3B:{at:4,owner:"enemy"},y3C:{at:5,owner:null}},steps:[{startMessages:["Direct assault is straightforward, but it's also rather easy to defend against by keeping a large ship at home.","But sometimes you can destroy that large ship using a catastrophe.","In fact, if all your opponent's ships are the same color and you have enough movement, you can win right there!","Can you win in one turn?","Oh, and I'm going to start being less helpful. There's still a hint and you always have the Reset Turn. Good luck!"],objective:"Destroy all the ships in the enemy's homeworld.",hint:["Are systems 6 and 8 throwing you off?","Remember star systems are connected if they have no star sizes in common.","6 and 8 are displayed in the middle because they aren't connected to either homeworld. But you can, for instance, move directly from 7 to 4 because those stars are still different sizes.","You *do* have enough moves here if you plan correctly."],checkAction:function(e,t){return[!0]},checkEndTurn:function(e){return e.isSystemOverpopulated("g",2)?[!1,"You have to manually invoke the catastrophe! Click one of the ships, then click the catastrophe button."]:e.map.g3B?[!1,"Hmmm... It looks like you've found 1 way not to destroy a homeworld. Reset your turn, and try again!"]:[!0,"There you go!"]}}],endMessages:["You did it!","The opponent, by keeping only one color at their homeworld, committed what is known as the Bluebird Mistake.","Apparently there was this one real-life game played at some coffee shop called the Bluebird where this mistake won a game.","This is why you should usually have two colors at your homeworld.","However, even then, sometimes a combination of Fleet Catastrophe and Direct Assault can work, where you move in a large after destroying theirs.","Anyway, the last path to victory is definitely the hardest to pull off, but it's also the most surefire way."]}),new r.a({title:"Star Demolition",subtitle:"Basic Paths to Victory, 3/3",startMap:{b1A:{at:4,owner:"you"},b1B:{at:6,owner:"you"},b1C:{at:11,owner:null},b2A:{at:4,owner:"you"},b2B:{at:7,owner:null},b2C:{at:2,owner:null},b3A:{at:8,owner:"enemy"},b3B:{at:10,owner:null},b3C:{at:1,owner:null},g1A:{at:4,owner:null},g1B:{at:10,owner:"you"},g1C:{at:2,owner:null},g2A:{at:9,owner:"you"},g2B:{at:3,owner:null},g2C:{at:10,owner:"you"},g3A:{at:8,owner:null},g3B:{at:5,owner:null},g3C:{at:1,owner:"you"},r1A:{at:2,owner:"enemy"},r1B:{at:6,owner:null},r1C:null,r2A:null,r2B:null,r2C:null,r3A:null,r3B:{at:9,owner:null},r3C:{at:2,owner:"enemy"},y1A:null,y1B:{at:8,owner:"enemy"},y1C:{at:1,owner:null},y2A:{at:11,owner:"enemy"},y2B:{at:5,owner:"enemy"},y2C:{at:7,owner:"enemy"},y3A:{at:2,owner:"enemy"},y3B:{at:3,owner:"you"},y3C:{at:6,owner:"you"}},steps:[{startMessages:["There's a lot going on here, and that is because Star Demolition, the last main path to victory, takes the most work.","You see, you can cause catastrophes to destroy the opponent's homeworld stars. But you need 2 catastrophes, which takes at least 6 ships if the opponent doesn't help you.","Plus, moving one at a time is usually too slow (it gives the enemy time to counter-attack or just capture the ships), so you need yellow to sacrifice.","Here's a situation where you can obliterate the enemy homeworld in just two turns. Can you see what to do?"],objective:"Destroy the enemy homeworld in 2 turns",hint:["Can you destroy *one* of the stars this turn? Which one?"],checkAction:function(e,t){return t.actions.sacrifice?"move"===e.type?"b"===e.oldPiece[0]?[!1,["Hmmm...","Sometimes with Star Demolition you *can* get away with moving, say, 2 greens and a blue (for a green-blue homeworld).","But as for this one... how many moves can you make through yellow sacrifices? And how many ships do you need in order to blow up two stars?","..."]]:"g3"===e.oldPiece.substring(0,2)?[!1,"No! Don't abandon your homeworld!!"]:"g"!==e.oldPiece[0]?[!1,"What colors are the enemy's homeworld? You want to be moving those colors in to cause catastrophes."]:[!0]:"catastrophe"===e.type?[!0,["One down, one to go!","Hey, notice the map re-arranged a bit...","Your enemy's homeworld lost its small green, so it is connected to small AND large systems now!","Small and large...","...","...","(remember end turn)"]]:void 0:"sacrifice"===e.type?"y"===e.oldPiece[0]?[!0]:[!1,"You have to *move* ships in to cause a catastrophe..."]:[!1,"Hmmm... a regular move won't cut it, I'm afraid."]},checkEndTurn:function(e){return e.isSystemOverpopulated("g",2)?[!1,"Whoops. You have to actually invoke the catastrophe. Click one of the green ships, then click the catastrophe button."]:e.map.g1C?[!1,"Hmmm... It turns out you actually can't win this particular situation without blowing up the green star."]:[!0,[],{type:"move",oldPiece:"r3C",system:1}]}},{startMessages:["Gaah! Where'd that guy come from?","And... Eek! We don't have any red at all!","Don't panic...","...","Right... Your homeworld is a Small+Large binary (binary just means 2 stars)...","...and your enemy's is just a Medium, so they have no sizes in common, so they are connected!","...","Well...","I guess you just have to win before they get a turn!","(this time I'm not going to stop you until you end your turn)"],objective:"Destroy the enemy's homeworld this turn.",hint:"Their homeworld is connected to small systems now.",checkAction:function(){return[!0]},checkEndTurn:function(e){return e.isSystemOverpopulated("b",2)?[!1,"Still gotta remember to hit that catastrophe button!"]:e.map.b2C?[!1,"You haven't failed, you just found one way not to destroy a star!"]:[!0,"Whew. That was close."]}}],endMessages:["Yep.","That particular setup is called a Doomsday Machine.","It's powerful because it often can't be stopped, but there are other ways.","You don't need to have everything set up at once; you can even destroy one star and then destroy the other 15 turns later!","BUT...","The longer you wait, the greater the chance of an enemy counter-attack.","And you normally have to give up at least 4 ships for the first star, so you'll be down in material.","Many experts suggest you NOT blow up one star unless you have a plan to get the other.","However, you don't *always* need two Y3s. See the advanced version of this tutorial.","Well... this is message 10... But that's the last main way to win.","If you need a break you've earned it."]})]},74:function(e,t,n){"use strict";n.r(t);n(0);var r=n(69);t.default=[new r.a({title:"Direct Assault 2.0",startMap:{b1A:{at:6,owner:"north"},b1B:{at:1,owner:null},b1C:{at:5,owner:"south"},b2A:null,b2B:null,b2C:{at:6,owner:null},b3A:{at:5,owner:"south"},b3B:{at:3,owner:null},b3C:{at:2,owner:"north"},g1A:{at:3,owner:"south"},g1B:null,g1C:{at:6,owner:"north"},g2A:{at:1,owner:null},g2B:{at:6,owner:"north"},g2C:{at:5,owner:null},g3A:{at:3,owner:"south"},g3B:{at:7,owner:null},g3C:{at:2,owner:null},r1A:{at:5,owner:"south"},r1B:null,r1C:{at:2,owner:"north"},r2A:null,r2B:{at:1,owner:"south"},r2C:{at:5,owner:"south"},r3A:null,r3B:null,r3C:null,y1A:{at:3,owner:"south"},y1B:{at:1,owner:"south"},y1C:{at:2,owner:null},y2A:null,y2B:{at:6,owner:"north"},y2C:{at:7,owner:"north"},y3A:null,y3B:{at:1,owner:"south"},y3C:null},steps:[{startMessages:["I don't think my earlier Direct Assault tutorial did the concept justice.","You may be thinking that if you just have a large and a red, you're save from direct assaults. But there are more tricky versions...","Here, your opponent has a single small red. What would happen if you moved *two* large ships into their homeworld at once?","(If you get stuck, there's still the Reset Turn button.)"],objective:"Get two large ships in the enemy homeworld at once",hint:"How many moves do you need? (The turn may look dangerous, but make it anyway.)",checkAction:function(e,t){return t.actions.sacrifice?[!0]:"sacrifice"===e.type?"y3B"===e.oldPiece?[!0]:"y"===e.oldPiece[0]?[!1,"Hmmm... if you sacrificed that small yellow, you would get 1 move action. Is one move enough?"]:[!1,"Did you mis-click? You have to sacrifice *yellow* pieces to get move actions."]:void 0}}]})]},75:function(e,t,n){var r={"./advancedTutorials.js":74,"./basicTutorials.js":72,"./intermediateTutorials.js":73};function o(e){return Promise.resolve().then((function(){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n(r[e])}))}o.keys=function(){return Object.keys(r)},o.id=75,e.exports=o},76:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(2),i=n.n(a),l=n(72),s=(n(73),n(74),n(1)),u=n(4);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,a=f(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.call(this,e)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.reactState,n=this.props.tutorial,r=(n.steps[t.stepID],t.messages&&t.messages.length>0?o.a.createElement("div",{className:"tutorial-popup-wrapper"},o.a.createElement("div",{className:"tutorial-popup card bg-light text-dark border border-primary"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title text-center"},t.messageTitle||n.title),o.a.createElement("p",{style:{whiteSpace:"pre-line"},className:"mb-0"},t.messages[t.messageNumber-1])),o.a.createElement("div",{className:"card-footer align-center btn-group"},o.a.createElement("button",{className:"btn btn-secondary btn-sm",disabled:t.messageNumber<=1,onClick:function(){return e.props.prevMessage()}},o.a.createElement("i",{className:"material-icons md-24 align-middle"},"chevron_left")),o.a.createElement("button",{className:"btn btn-secondary",disabled:!0},t.messageNumber,"/",t.messages.length),o.a.createElement("button",{className:"btn btn-secondary btn-sm",onClick:function(){return e.props.nextMessage()}},o.a.createElement("i",{className:"material-icons md-24 align-middle"},t.messageNumber>=t.messages.length?"check":"chevron_right"))))):null);return o.a.createElement("div",{className:"position-relative"},o.a.createElement("h3",null,n.title),o.a.createElement("div",{className:"btn-group"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.props.navMethods.returnToMenu()}},o.a.createElement("i",{className:"material-icons md-18 mr-1 align-middle"},"undo"),"Back to Menu"),o.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.props.displayStartMessage()}},o.a.createElement("i",{className:"material-icons md-18 mr-1 align-middle"},"restore"),"Show Intro"),o.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.props.displayHint()}},o.a.createElement("i",{className:"material-icons md-18 mr-1 align-middle"},"help_outline"),"Show Hint"),t.complete&&o.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.props.navMethods.nextTutorial()}},o.a.createElement("i",{className:"material-icons md-18 mr-1 align-middle"},"play_arrow"),"Next Module")),this.props.children,r)}}])&&h(t.prototype,n),r&&h(t,r),i}(o.a.Component),g=Object(u.a)(m,{onMount:function(){var e=this.props.tutorial,t=0;for(var n in e.startMap){var r=e.startMap[n];r&&r.at>t&&(t=r.at)}var o=!0;for(var a in e.startMap){var i=e.startMap[a];if(i&&1===i.at){o=!1;break}}var l=new s.a(e.startMap,o?"setup":"playing",o?{}:{you:1,enemy:2},t+1,["you","enemy"],"you",{number:1,sacrifice:null},null);this.setState({current:l,history:[[l]],viewer:"you",actionInProgress:o?{type:"homeworld"}:null}),this.addToActionQueue=function(e){this.setState((function(t){return{enemyActionQueue:t.enemyActionQueue.concat([e])}}))}.bind(this),this.shiftActionQueue=function(){var e=this.state.enemyActionQueue[0];return this.setState({enemyActionQueue:this.state.enemyActionQueue.slice(1)}),e}.bind(this),this.displayStartMessage=function(){this.setState(function(e){var t=this.props.tutorial.steps[e.stepID];return{messages:t.startMessages,messageTitle:t.title||this.props.tutorial.title,messageNumber:1,showPopup:!0}}.bind(this))}.bind(this),this.displayStartMessage(),this.displayHint=function(){var e=this.props.tutorial.steps[this.state.stepID].hint;e&&this.setState({messages:e instanceof Array?e:[e],messageTitle:"Hint",messageNumber:1})}.bind(this),this.clearMessage=function(){this.setState({messages:null,showPopup:!1,messageNumber:1})}.bind(this),this.nextMessage=function(){if("start"!==this.state.messageType)this.clearMessage();else if(this.state.messageNumber>=this.state.messages.length)this.clearMessage(),this.state.enemyActionQueue.length>0&&this.nextEnemyAction();else{this.props.tutorial.steps[this.state.stepID];this.setState({messageNumber:this.state.messageNumber+1})}}.bind(this),this.prevMessage=function(){if(this.state.messageNumber>1){this.props.tutorial.steps[this.state.stepID];this.setState({messageNumber:this.state.messageNumber-1})}}.bind(this),this.advanceStep=function(){var e=this.props.tutorial.steps[this.state.stepID],t=this.state.stepID+1;if(e.nextStep){var n=e.nextStep(this.getCurrentState());if("number"==typeof n)t=this.state.stepID+n;else if("string"==typeof n)for(var r=0;r<this.props.tutorial.steps.length;r++){if(this.props.tutorial.steps[r].id===n){t=r;break}}}console.warn("Moving to step "+t),t<0&&(t=0),t<this.props.tutorial.steps.length?(this.setState({stepID:t}),this.displayStartMessage()):(console.log("End of Module"),this.setState({messageTitle:"Scenario Complete",messages:this.props.tutorial.endMessages,messageNumber:1,complete:!0}))}.bind(this),this.nextEnemyAction=function(e){console.log(this.state.enemyActionQueue);var t=setTimeout(function(){var e=this.state.enemyActionQueue,t=this.shiftActionQueue();t&&("end-turn"===t.type?this.doEndTurn("enemy",this.advanceStep):(this.doAction(t,"enemy"),e.length>=3?this.nextEnemyAction(1500):2===e.length&&this.nextEnemyAction(750)))}.bind(this),e||1500);this.setState({enemyActionTimeout:t})}.bind(this)},onUnmount:function(){clearTimeout(this.enemyActionTimeout)},getProps:function(){return{setParentState:this.setState.bind(this),tutorial:this.props.tutorial,navMethods:this.props.navMethods,nextMessage:this.nextMessage,prevMessage:this.prevMessage,clearMessage:this.clearMessage,displayStartMessage:this.displayStartMessage,displayHint:this.displayHint}},canInteract:function(e){return"you"===e.turn&&!this.state.complete},onBeforeButtonClick:function(e,t){console.log("onBeforeButtonClick",arguments);var n=this.props.tutorial.steps[this.state.stepID],r=n.bannedActions;if(r instanceof Array&&r.indexOf(action.type)>=0)return this.setState({messages:["We aren't doing "+e+" actions right now."],messageTitle:"Not Yet",messageNumber:1}),!1;if(r instanceof Object&&r[e]){var o=r[e];return this.setState({message:o instanceof Array?o:[o],messageTitle:"Not Yet",messageNumber:1}),!1}return!0},onBeforeAction:function(e,t,n,r){if(console.log("onBeforeAction",arguments),"you"!==n.turn)return!0;var o=this.props.tutorial.steps[this.state.stepID];if(o.bannedActions instanceof Array&&-1!==o.bannedActions.indexOf(e.type))return!1;if(o.bannedActions instanceof Object&&o.bannedActions[e.type])return!1;if(this.props.tutorial.bannedActions&&-1!==this.props.tutorial.bannedActions.indexOf(e.type))return!1;if(o.checkAction){var a=o.checkAction(e,n);return a?(a[1]&&(console.warn("Result",a[1]),this.setState({messages:a[1]instanceof Array?a[1]:[a[1]],messageTitle:a[0]?"Success":"Try Again!",messageNumber:1})),a[0]):(console.error(new Error("This is bad. Function did not return! Assuming move is good...")),!0)}},onBeforeEndTurn:function(e,t){if("you"!==e)return!0;var n=this.props.tutorial.steps[this.state.stepID];if(n.checkEndTurn){var r=n.checkEndTurn(this.state.current);if(r[1]){var o=r[0]?"":'\n\n(Click "Reset Turn" to try again.)',a=r[1]instanceof Array?r[1].slice():[r[1]];a.length>0&&(a[a.length-1]+=o),this.setState({messages:a,messageTitle:r[0]?"Good Turn":"Try Again",messageNumber:1})}else r[0]&&this.nextEnemyAction();return r[0]}return!0},onAfterEndTurn:function(e,t){if("enemy"===e)return!0;var n=this.props.tutorial.steps[this.state.stepID];if(n.checkEndTurn){for(var r=n.checkEndTurn(this.state.current),o=0;o<r.length;o++){var a=r[o];this.getCurrentState();console.log("possible action",o,a,c(a)),"object"!==c(a)||a instanceof Array||this.addToActionQueue(r[o])}console.log(1),r[1]||this.nextEnemyAction(r.length>=3?1500:500)}else this.nextEnemyAction(500);this.addToActionQueue({type:"end-turn"})}},{stepID:0,showPopup:!0,messages:null,messageTitle:null,messageType:"start",messageNumber:1,complete:!1,setParentState:null,enemyActionQueue:[],enemyActionTimeout:null});function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=l.default,P=["intermediate","advanced"],A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(l,e);var t,r,a,i=E(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={tutorial:null,loading:!0},t}return t=l,(r=[{key:"startTutorial",value:function(e){this.setState({tutorial:e})}},{key:"returnToMenu",value:function(){this.setState({tutorial:null})}},{key:"nextTutorial",value:function(){this.setState((function(e){var t=x.indexOf(e.tutorial);if(t<x.length)return{tutorial:x[t+1]||null};if(P.length){this.setState({loading:!0});var r=P.shift();n(75)("./".concat(r,"Tutorials.js")).then(function(e){x.push.apply(x,b(e)),this.setState({tutorial:x[t+1]})}.bind(this)).catch((function(e){console.error("INVALID MODULE!",r),console.error(e)}))}}))}},{key:"previousTutorial",value:function(){this.setState((function(e){var t=x.indexOf(e.tutorial);return{tutorial:x[t-1]||null}}))}},{key:"componentDidCatch",value:function(e){console.error("ComponentDidCatch",arguments),this.setState({tutorial:null})}},{key:"render",value:function(){var e=this;if(this.state.tutorial){var t={returnToMenu:this.returnToMenu.bind(this),nextTutorial:this.nextTutorial.bind(this),previousTutorial:this.previousTutorial.bind(this)};return o.a.createElement(g,{disableWarnings:this.state.tutorial.disableWarnings,tutorial:this.state.tutorial,key:this.state.tutorial.title,navMethods:t})}for(var n=[],r=function(t){n.push(o.a.createElement("a",{className:"list-group-item",onClick:function(){return e.startTutorial(x[t])},key:t,href:"#"+(t+1)},x[t].title))},a=0;a<x.length;a++)r(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Interactive Tutorials"),o.a.createElement("p",{className:"subtitle"},"If you prefer to learn by doing, here are my tutorial modules which cover the basics of gameplay."),o.a.createElement("div",{className:"list-group"},n))}}])&&k(t.prototype,r),a&&k(t,a),l}(o.a.Component);i.a.render(o.a.createElement(A,null),document.getElementById("game-container"))},8:function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,l,s=i(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){l=r(n);for(var h=0;h<l.length;h++)a.call(n,l[h])&&(s[l[h]]=n[l[h]])}}return s}},9:function(e,t,n){"use strict";e.exports=n(10)}});
//# sourceMappingURL=tutorial.js.map